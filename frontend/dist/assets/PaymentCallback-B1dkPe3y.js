import{c as e,k as s,i as a,r as t,j as l}from"./index-CLBnbEHD.js";import{H as n,F as c}from"./Footer-DDsg2OGn.js";import{B as i}from"./button-BlFb8XfN.js";import{C as o}from"./card-CgCI3yzn.js";import{C as r}from"./circle-check-big-6zqigTK-.js";import{C as m}from"./circle-x-EcjuIHFx.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function x(){const[e]=s(),x=a(),[u,p]=t.useState("loading"),[h,f]=t.useState("Verifying payment..."),j=e.get("reference"),y=e.get("trxref");return t.useEffect(()=>{(async()=>{var e;if(!(j||y))return p("failed"),void f("Payment reference not found");try{const s=await void 0;s.success&&"success"===s.data.status?(p("success"),f("Payment completed successfully! You will receive a confirmation email shortly.")):(p("failed"),f((null==(e=s.data)?void 0:e.message)||s.error||"Payment verification failed"))}catch(s){p("failed"),f("Failed to verify payment status")}})()},[j,y]),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(n,{}),l.jsx("main",{className:"pt-20 pb-20 px-4",children:l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs(o,{className:"p-8 text-center",children:["loading"===u&&l.jsxs(l.Fragment,{children:[l.jsx(d,{className:"w-16 h-16 mx-auto mb-4 animate-spin text-primary"}),l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Verifying Payment"}),l.jsx("p",{className:"text-muted-foreground",children:h})]}),"success"===u&&l.jsxs(l.Fragment,{children:[l.jsx(r,{className:"w-16 h-16 mx-auto mb-4 text-green-500"}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-green-600",children:"Payment Successful!"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:h}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(i,{className:"w-full",onClick:()=>x("/diaspora"),children:"Back to Diaspora Services"}),l.jsx(i,{variant:"outline",className:"w-full",onClick:()=>{const e=encodeURIComponent(`Hello! I have successfully completed payment with reference: ${j||y}. I would like to schedule my diaspora consultation.`);window.open(`https://wa.me/+254712345678?text=${e}`,"_blank")},children:"Schedule Consultation via WhatsApp"})]})]}),"failed"===u&&l.jsxs(l.Fragment,{children:[l.jsx(m,{className:"w-16 h-16 mx-auto mb-4 text-red-500"}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Payment Failed"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:h}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(i,{className:"w-full",onClick:()=>x("/diaspora"),children:"Try Again"}),l.jsx(i,{variant:"outline",className:"w-full",onClick:()=>{const e=encodeURIComponent("Hello! I'm having trouble with payment for diaspora consultation. Could you please help me?");window.open(`https://wa.me/+254712345678?text=${e}`,"_blank")},children:"Get Help via WhatsApp"})]})]})]})})}),l.jsx(c,{})]})}export{x as default};
