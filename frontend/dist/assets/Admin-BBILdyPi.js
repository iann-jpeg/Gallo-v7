import{c as e,a as s,r as t,b as a,g as l,j as n,P as r,d as i,f as c,h as d,u as o,l as m,X as x,m as h,n as u,A as p,e as j,D as f,C as g,o as v,p as N,q as y,s as b,v as w,w as C,x as k,$ as S}from"./index-CLBnbEHD.js";import{C as M,a as D,b as R,d as T}from"./card-CgCI3yzn.js";import{B as E,b as A,P as _,M as P,a as L}from"./button-BlFb8XfN.js";import{B as U}from"./badge-BwRjL492.js";import{u as F,S as I,a as O,b as z,c as $,d as q,C as V}from"./select-DUAvDH11.js";import{C as B}from"./circle-check-big-6zqigTK-.js";import{C as G}from"./circle-x-EcjuIHFx.js";import{D as K}from"./download-DsyeXlE8.js";import{U as H}from"./users-WF7lVFux.js";import{S as Q}from"./shield-DtAeQuR9.js";import{C as W}from"./credit-card-CQOfWmbU.js";import{T as J}from"./trending-up-CZYeqFN-.js";import{F as Z}from"./file-text-C8HPBPkJ.js";import{G as X,C as Y}from"./globe-B3v1tsnI.js";import{I as ee,L as se}from"./label-BNStf_RC.js";import{D as te,b as ae,c as le,d as ne,a as re,e as ie,f as ce}from"./dialog-DiU3ssU2.js";import{U as de}from"./user-plus-BgUs8bAe.js";import{T as oe,a as me,b as xe,c as he}from"./tabs-DN_SIUqy.js";import{C as ue}from"./clock-CwUX-zna.js";import{M as pe}from"./message-square-C3FrGh3n.js";import{D as je,C as fe,a as ge,L as ve}from"./log-out-DMgyUEgv.js";import{T as Ne}from"./textarea-B3DYKRG0.js";import{U as ye,B as be}from"./upload-anlmfEjC.js";import{L as we}from"./lock-Bn89Vx1W.js";import{u as Ce}from"./index-Dhn-e7cv.js";import{h as ke,u as Se,F as Me,R as De}from"./index-aWcoShsH.js";import{c as Re,R as Te,I as Ee}from"./index-D9sHvFAb.js";import{u as Ae}from"./index-BwW2dtZR.js";import{C as _e}from"./circle-DjbHWhD-.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Le=e("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Ue=e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Fe=e("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]),Ie=e("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Oe=e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ze=e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$e=e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),qe=e("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Ve=e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Be=e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Ge=e("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Ke=e("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),He=e("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),Qe=e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),We=e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Je=e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ze=e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Xe=e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Ye=e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),es=e("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),ss=e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ts=e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),as=e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ls=e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ns=e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),rs=e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),is=e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),cs=e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ds=e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var os="Switch",[ms,xs]=s(os),[hs,us]=ms(os),ps=t.forwardRef((e,s)=>{const{__scopeSwitch:c,name:d,checked:o,defaultChecked:m,required:x,disabled:h,value:u="on",onCheckedChange:p,form:j,...f}=e,[g,v]=t.useState(null),N=a(s,e=>v(e)),y=t.useRef(!1),b=!g||(j||!!g.closest("form")),[w,C]=l({prop:o,defaultProp:m??!1,onChange:p,caller:os});return n.jsxs(hs,{scope:c,checked:w,disabled:h,children:[n.jsx(r.button,{type:"button",role:"switch","aria-checked":w,"aria-required":x,"data-state":vs(w),"data-disabled":h?"":void 0,disabled:h,value:u,...f,ref:N,onClick:i(e.onClick,e=>{C(e=>!e),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),b&&n.jsx(gs,{control:g,bubbles:!y.current,name:d,value:u,checked:w,required:x,disabled:h,form:j,style:{transform:"translateX(-100%)"}})]})});ps.displayName=os;var js="SwitchThumb",fs=t.forwardRef((e,s)=>{const{__scopeSwitch:t,...a}=e,l=us(js,t);return n.jsx(r.span,{"data-state":vs(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:s})});fs.displayName=js;var gs=t.forwardRef(({__scopeSwitch:e,control:s,checked:l,bubbles:r=!0,...i},d)=>{const o=t.useRef(null),m=a(o,d),x=F(l),h=c(s);return t.useEffect(()=>{const e=o.current;if(!e)return;const s=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(s,"checked").set;if(x!==l&&t){const s=new Event("click",{bubbles:r});t.call(e,l),e.dispatchEvent(s)}},[x,l,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...i,tabIndex:-1,ref:m,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function vs(e){return e?"checked":"unchecked"}gs.displayName="SwitchBubbleInput";var Ns=ps,ys=fs;const bs=t.forwardRef(({className:e,...s},t)=>n.jsx(Ns,{className:d("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:n.jsx(ys,{className:d("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));function ws(){const[e,s]=t.useState({totalUsers:0,totalClaims:0,totalConsultations:0,totalPayments:0,totalQuotes:0,totalOutsourcingRequests:0,totalDiasporaRequests:0,totalRevenue:0,monthlyRevenue:0,conversionRate:0,userGrowthRate:0,claimsGrowthRate:0,quoteGrowthRate:0,revenueGrowthRate:0,lastUpdated:(new Date).toISOString()}),[a,l]=t.useState([]),[r,i]=t.useState(!0),[c,d]=t.useState(new Date),[m,x]=t.useState("connecting"),[h,u]=t.useState(!0),[p,j]=t.useState(30),[f,g]=t.useState(!0),v=t.useRef([]),N=t.useRef(),{toast:y}=o(),b=t.useCallback(async(e=!0)=>{i(!0),x("connecting");try{const[t,a]=await Promise.all([void 0,void 0]);t&&t.success?(s(t.data),x("connected")):(s({totalUsers:0,totalClaims:0,totalConsultations:0,totalPayments:0,totalQuotes:0,totalOutsourcingRequests:0,totalDiasporaRequests:0,totalRevenue:0,monthlyRevenue:0,conversionRate:0,userGrowthRate:0,claimsGrowthRate:0,quoteGrowthRate:0,revenueGrowthRate:0,lastUpdated:(new Date).toISOString()}),x("disconnected")),a&&a.success?l(a.data||[]):l([]),d(new Date),e&&t&&t.success&&y({title:"Dashboard Updated",description:`Data refreshed at ${(new Date).toLocaleTimeString()}`})}catch(t){x("disconnected"),s({totalUsers:0,totalClaims:0,totalConsultations:0,totalPayments:0,totalQuotes:0,totalOutsourcingRequests:0,totalDiasporaRequests:0,totalRevenue:0,monthlyRevenue:0,conversionRate:0,userGrowthRate:0,claimsGrowthRate:0,quoteGrowthRate:0,revenueGrowthRate:0,lastUpdated:(new Date).toISOString()}),l([]),e&&y({title:"Connection Error",description:"Backend not connected - showing empty dashboard",variant:"destructive"})}finally{i(!1)}},[y]),w=t.useCallback(e=>{const s=e.eventType||"UPDATE",t=e.table||"Unknown";y({title:"Real-time Update",description:`${s} in ${t}`}),b(!1)},[b,y]),C=t.useCallback(()=>{if(f)try{const e=void 0;e&&e.length>0?(v.current=e,y({title:"Real-time Connected",description:"Dashboard will update automatically"})):(g(!1),u(!0))}catch(e){g(!1),u(!0),y({title:"Real-time Unavailable",description:"Using auto-refresh mode instead",variant:"destructive"})}},[f,w,y]),k=t.useCallback(()=>{h&&(N.current=setInterval(()=>{b(!1)},1e3*p))},[h,p,b]);t.useEffect(()=>(b(!0),f&&C(),h&&k(),()=>{v.current.length,N.current&&clearInterval(N.current)}),[]),t.useEffect(()=>{N.current&&clearInterval(N.current),h&&k()},[h,p,k]),t.useEffect(()=>{if(f)C();else if(v.current.length>0)try{v.current=[]}catch(e){}},[f,C]);const S=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString();return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ze,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),n.jsxs("p",{className:"text-muted-foreground",children:["Real-time overview of your platform • Last updated: ",c.toLocaleTimeString()]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:["connected"===m?n.jsx(B,{className:"h-4 w-4 text-green-500"}):"connecting"===m?n.jsx(Ze,{className:"h-4 w-4 text-yellow-500 animate-spin"}):n.jsx(G,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{className:"text-sm capitalize",children:m})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bs,{checked:f,onCheckedChange:g}),n.jsx("span",{className:"text-sm",children:"Real-time"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bs,{checked:h,onCheckedChange:u}),n.jsx("span",{className:"text-sm",children:"Auto-refresh"})]}),n.jsxs(I,{value:p.toString(),onValueChange:e=>j(Number(e)),children:[n.jsx(O,{className:"w-20",children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"15",children:"15s"}),n.jsx(q,{value:"30",children:"30s"}),n.jsx(q,{value:"60",children:"1m"}),n.jsx(q,{value:"300",children:"5m"})]})]}),n.jsxs(E,{onClick:()=>b(!0),size:"sm",children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs(E,{onClick:async()=>{try{const e=await void 0;if(!e||!e.success)throw new Error("Export failed - no data available");{const s=[["Type","Description","Entity Type","Created At"],...(e.data||[]).map(e=>[e.type,e.description,e.entity_type,new Date(e.created_at).toLocaleString()])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),t=new Blob([s],{type:"text/csv"}),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`dashboard-export-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(a),y({title:"Export Complete",description:"Dashboard data exported successfully"})}}catch(e){y({title:"Export Failed",description:e.message||"Could not export dashboard data",variant:"destructive"})}},variant:"outline",size:"sm",children:[n.jsx(K,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Total Users"}),n.jsx(H,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:S(e.totalUsers)}),n.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[n.jsx(Le,{className:"h-3 w-3 text-green-500 mr-1"}),"+",e.userGrowthRate.toFixed(1),"% from last month"]})]})]}),n.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Total Claims"}),n.jsx(Q,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:S(e.totalClaims)}),n.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[n.jsx(Le,{className:"h-3 w-3 text-green-500 mr-1"}),"+",e.claimsGrowthRate.toFixed(1),"% from last month"]})]})]}),n.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Total Revenue"}),n.jsx(W,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:(A=e.totalRevenue,new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(A))}),n.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[n.jsx(Le,{className:"h-3 w-3 text-green-500 mr-1"}),"+",e.revenueGrowthRate.toFixed(1),"% from last month"]})]})]}),n.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Conversion Rate"}),n.jsx(ns,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(T,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[e.conversionRate.toFixed(1),"%"]}),n.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[n.jsx(J,{className:"h-3 w-3 text-green-500 mr-1"}),"Quotes to Claims ratio"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(Z,{className:"mr-2 h-5 w-5"}),"Consultations"]})}),n.jsxs(T,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.totalConsultations}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active consultation bookings"})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(X,{className:"mr-2 h-5 w-5"}),"Diaspora Services"]})}),n.jsxs(T,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.totalDiasporaRequests}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"International service requests"})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(ds,{className:"mr-2 h-5 w-5"}),"Outsourcing"]})}),n.jsxs(T,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-600",children:e.totalOutsourcingRequests}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Outsourcing project requests"})]})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(Pe,{className:"mr-2 h-5 w-5"}),"Recent Activity"]})}),n.jsx(T,{children:n.jsxs("div",{className:"space-y-4",children:[a.slice(0,10).map(e=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:e.type}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(U,{variant:"outline",className:"text-xs",children:e.entity_type}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(e.created_at).toLocaleString()})]})]},e.id)),0===a.length&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activity found"})]})})]})]});var A}function Cs(){var e,s,a;const[l,r]=t.useState([]),[i,c]=t.useState(!0),[d,m]=t.useState(null),[x,h]=t.useState(!1),[u,p]=t.useState(""),[j,f]=t.useState(""),[g,v]=t.useState(1),[N,y]=t.useState(1),{toast:b}=o();t.useCallback(e=>{r(e.claims||[]),c(!1)},[]),t.useCallback(e=>{r(s=>s.map(s=>s.id===e.id?{...s,...e}:s)),b({title:"Claim Updated",description:`Claim ${e.id} has been updated.`})},[b]),t.useEffect(()=>{w()},[g,j,u]);const w=async()=>{var e,s,t;try{c(!0);const a={success:!0,data:{claims:[{id:1,policyNumber:"POL001",claimType:"Motor",incidentDate:"2025-09-01",estimatedLoss:5e4,description:"Vehicle accident claim",firstName:"John",lastName:"Doe",email:"john@example.com",phone:"+254700000000",status:"pending",documents:[],createdAt:"2025-09-01T10:00:00Z",updatedAt:"2025-09-01T10:00:00Z"}],pagination:{totalPages:1}},message:"Claims loaded successfully"};a&&a.success?(r((null==(e=a.data)?void 0:e.claims)||a.data||[]),y((null==(t=null==(s=a.data)?void 0:s.pagination)?void 0:t.totalPages)||1)):(r([]),b({title:"API Error",description:(null==a?void 0:a.message)||"Backend not connected - no data available",variant:"destructive"}))}catch(a){r([]),b({title:"Connection Error",description:"Backend not available - cannot fetch claims data",variant:"destructive"})}finally{c(!1)}},C=async(e="csv")=>{try{b({title:"Export Started",description:`Exporting claims data as ${e.toUpperCase()}...`}),await new Promise(e=>setTimeout(e,1500));const s={claims:l.map(e=>{var s,t,a;return{id:e.id,policyNumber:e.policyNumber,claimType:e.claimType,claimant:(null==(s=e.user)?void 0:s.name)||"N/A",email:(null==(t=e.user)?void 0:t.email)||"N/A",estimatedLoss:e.estimatedLoss,status:e.status,incidentDate:e.incidentDate,createdAt:e.createdAt,documentCount:(null==(a=e.documents)?void 0:a.length)||0}}),timestamp:(new Date).toISOString(),format:e};let t="",a=`claims-export-${(new Date).toISOString().split("T")[0]}`,n="text/plain";if("json"===e)t=JSON.stringify(s,null,2),a+=".json",n="application/json";else if("csv"===e){t="ID,Policy Number,Claim Type,Claimant,Email,Amount,Status,Incident Date,Created At,Documents\n"+s.claims.map(e=>`${e.id},"${e.policyNumber}","${e.claimType}","${e.claimant}","${e.email}",${e.estimatedLoss},"${e.status}","${e.incidentDate}","${e.createdAt}",${e.documentCount}`).join("\n"),a+=".csv",n="text/csv"}const r=new Blob([t],{type:n}),i=window.URL.createObjectURL(r),c=document.createElement("a");c.href=i,c.download=a,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(i),b({title:"Export Complete",description:`Claims data exported as ${e.toUpperCase()}`})}catch(s){b({title:"Export Failed",description:"Failed to export claims data",variant:"destructive"})}},k=e=>{switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"processing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},S=e=>new Date(e).toLocaleDateString(),A=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(e),_=e=>{if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]};return t.useEffect(()=>{w()},[g,u,j]),i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-lg",children:"Loading claims..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Claims Management"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{onClick:w,variant:"outline",size:"sm",disabled:i,children:[n.jsx(Ze,{className:"h-4 w-4 mr-2 "+(i?"animate-spin":"")}),"Refresh"]}),n.jsxs(E,{onClick:()=>C("csv"),variant:"outline",size:"sm",children:[n.jsx(K,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),n.jsxs(E,{onClick:()=>C("json"),variant:"outline",size:"sm",children:[n.jsx(K,{className:"h-4 w-4 mr-2"}),"Export JSON"]})]})]}),n.jsx(M,{children:n.jsx(T,{className:"p-4",children:n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ye,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ee,{placeholder:"Search claims...",value:u,onChange:e=>p(e.target.value),className:"pl-10"})]}),n.jsxs(I,{value:j,onValueChange:f,children:[n.jsx(O,{className:"w-48",children:n.jsx(z,{placeholder:"Filter by status"})}),n.jsxs($,{children:[n.jsx(q,{value:"all",children:"All Statuses"}),n.jsx(q,{value:"pending",children:"Pending"}),n.jsx(q,{value:"processing",children:"Processing"}),n.jsx(q,{value:"approved",children:"Approved"}),n.jsx(q,{value:"rejected",children:"Rejected"})]})]}),n.jsx(E,{variant:"outline",size:"icon",children:n.jsx($e,{className:"h-4 w-4"})})]})})}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{children:["Claims List (",l.length," records)"]})}),n.jsxs(T,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-medium",children:"Policy #"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Claimant"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Type"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Amount"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Date"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Status"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Documents"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Actions"})]})}),n.jsx("tbody",{children:l.length>0?l.map(e=>{var s;return n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"p-3 font-mono text-sm",children:e.policyNumber}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),n.jsx("div",{className:"text-sm text-gray-500",children:e.email}),n.jsx("div",{className:"text-sm text-gray-500",children:e.phone})]})}),n.jsx("td",{className:"p-3",children:e.claimType}),n.jsx("td",{className:"p-3 font-medium",children:A(e.estimatedLoss)}),n.jsx("td",{className:"p-3",children:S(e.incidentDate)}),n.jsx("td",{className:"p-3",children:n.jsx(U,{className:k(e.status),children:e.status})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Z,{className:"h-4 w-4 text-gray-400"}),n.jsxs("span",{className:"text-sm",children:[(null==(s=e.documents)?void 0:s.length)||0," files"]})]})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{const s={success:!0,data:l.find(s=>s.id===e)||null,message:"Claim details loaded successfully"};s.success&&(m(s.data),h(!0))}catch(s){b({title:"Error",description:"Failed to fetch claim details.",variant:"destructive"})}})(e.id),children:n.jsx(ze,{className:"h-4 w-4"})}),n.jsxs(I,{onValueChange:s=>(async(e,s)=>{try{w(),d&&d.id===e&&m({...d,status:s}),b({title:"Success",description:"Claim status updated successfully."})}catch(t){b({title:"Error",description:"Failed to update claim status.",variant:"destructive"})}})(e.id,s),children:[n.jsx(O,{className:"w-32",children:n.jsx(z,{placeholder:"Update"})}),n.jsxs($,{children:[n.jsx(q,{value:"pending",children:"Pending"}),n.jsx(q,{value:"processing",children:"Processing"}),n.jsx(q,{value:"approved",children:"Approved"}),n.jsx(q,{value:"rejected",children:"Rejected"})]})]})]})})]},e.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"text-center py-12",children:n.jsxs("div",{className:"text-gray-500",children:[n.jsx(Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No claims found"}),n.jsx("p",{children:"No claims match your current filters."})]})})})})]})}),N>1&&n.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[n.jsx(E,{variant:"outline",disabled:1===g,onClick:()=>v(g-1),children:"Previous"}),n.jsxs("span",{className:"flex items-center px-4",children:["Page ",g," of ",N]}),n.jsx(E,{variant:"outline",disabled:g===N,onClick:()=>v(g+1),children:"Next"})]})]})]}),n.jsx(te,{open:x,onOpenChange:h,children:n.jsxs(ae,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(le,{children:n.jsx(ne,{children:"Claim Details"})}),d&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"text-lg flex items-center gap-2",children:[n.jsx(Z,{className:"h-5 w-5"}),"Claim Information"]})}),n.jsxs(T,{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Policy Number"}),n.jsx("p",{className:"font-mono",children:d.policyNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Claim Type"}),n.jsx("p",{children:d.claimType})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Estimated Loss"}),n.jsx("p",{className:"font-medium",children:A(d.estimatedLoss)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Incident Date"}),n.jsx("p",{children:S(d.incidentDate)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),n.jsx(U,{className:k(d.status),children:d.status})]})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"text-lg flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5"}),"Claimant Information"]})}),n.jsxs(T,{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"First Name"}),n.jsx("p",{children:d.firstName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Name"}),n.jsx("p",{children:d.lastName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),n.jsx("p",{children:d.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),n.jsx("p",{children:d.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Submitted"}),n.jsx("p",{children:S(d.createdAt)})]})]})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsx(R,{className:"text-lg",children:"Description"})}),n.jsx(T,{children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:d.description})})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"text-lg flex items-center gap-2",children:[n.jsx(Z,{className:"h-5 w-5"}),"Attached Documents (",(null==(e=d.documents)?void 0:e.length)||0,")"]})}),n.jsx(T,{children:((null==(s=d.documents)?void 0:s.length)||0)>0?n.jsx("div",{className:"grid gap-3",children:null==(a=d.documents)?void 0:a.map(e=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Z,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:e.originalName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[_(e.size)," • ",S(e.createdAt)]})]})]}),n.jsx(E,{variant:"outline",size:"sm",onClick:()=>(async()=>{try{const e={success:!0,message:"Document download feature not available in development mode"};e.success&&b({title:"Success",description:e.message||"Document download started."})}catch(e){b({title:"Error",description:"Failed to download document.",variant:"destructive"})}})(e.id,e.originalName),children:n.jsx(K,{className:"h-4 w-4"})})]},e.id))}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No documents attached"})})]})]})]})})]})}bs.displayName=Ns.displayName;const ks=t.forwardRef(({className:e,...s},t)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:t,className:d("w-full caption-bottom text-sm",e),...s})}));ks.displayName="Table";const Ss=t.forwardRef(({className:e,...s},t)=>n.jsx("thead",{ref:t,className:d("[&_tr]:border-b",e),...s}));Ss.displayName="TableHeader";const Ms=t.forwardRef(({className:e,...s},t)=>n.jsx("tbody",{ref:t,className:d("[&_tr:last-child]:border-0",e),...s}));Ms.displayName="TableBody";t.forwardRef(({className:e,...s},t)=>n.jsx("tfoot",{ref:t,className:d("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";const Ds=t.forwardRef(({className:e,...s},t)=>n.jsx("tr",{ref:t,className:d("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));Ds.displayName="TableRow";const Rs=t.forwardRef(({className:e,...s},t)=>n.jsx("th",{ref:t,className:d("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));Rs.displayName="TableHead";const Ts=t.forwardRef(({className:e,...s},t)=>n.jsx("td",{ref:t,className:d("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));Ts.displayName="TableCell";function Es(){const[e,s]=t.useState([]),[a,l]=t.useState(!0),[r,i]=t.useState(""),[c,d]=t.useState(1),[m,x]=t.useState(1),[h,u]=t.useState(!1),[p,j]=t.useState(null),[f,g]=t.useState({full_name:"",email:"",role:"USER",status:"active"}),{toast:v}=o();t.useEffect(()=>{if(r.trim()){const e=setTimeout(()=>{N()},500);return()=>clearTimeout(e)}y()},[r,c]);const N=async()=>{try{l(!0);const e=await void 0;if(e.success&&e.data){const t=Array.isArray(e.data)?e.data:[e.data];s(t),x(Math.ceil((e.count||t.length)/20)),v({title:"Search Complete",description:`Found ${t.length} users matching "${r}"`,variant:"default"})}else{const e=[{id:Math.floor(1e3*Math.random()),name:`Search Result: ${r}`,email:`${r.toLowerCase().replace(/\s/g,"")}@example.com`,role:"USER",status:"active",createdAt:(new Date).toISOString(),_count:{payments:1,claims:0}}];s(e),x(1),v({title:"Demo Search",description:`Showing demo results for "${r}"`,variant:"default"})}}catch(e){const t=[{id:Math.floor(1e3*Math.random()),name:`Search Result: ${r}`,email:`${r.toLowerCase().replace(/\s/g,"")}@example.com`,role:"USER",status:"active",createdAt:(new Date).toISOString(),_count:{payments:1,claims:0}}];s(t),x(1)}finally{l(!1)}},y=async()=>{try{l(!0);const e=await void 0;if(e.success&&e.data){const t=e.data.users||e.data||[],a=e.data.pagination||{currentPage:c,totalPages:1,totalCount:t.length};s(t),x(a.totalPages),v({title:"Success",description:`Loaded ${t.length} users`,variant:"default"})}else{s([{id:1,name:"John Doe",email:"john.doe@example.com",role:"USER",status:"active",createdAt:"2024-01-15T10:30:00Z",_count:{payments:3,claims:2}},{id:2,name:"Jane Smith",email:"jane.smith@example.com",role:"ADMIN",status:"active",createdAt:"2024-01-10T14:20:00Z",_count:{payments:1,claims:5}}]),x(1),v({title:"Demo Mode",description:"Showing demo user data",variant:"default"})}}catch(e){s([{id:1,name:"John Doe",email:"john.doe@example.com",role:"USER",status:"active",createdAt:"2024-01-15T10:30:00Z",_count:{payments:3,claims:2}}]),x(1)}finally{l(!1)}},b=e=>{switch(e){case"ADMIN":return"bg-red-100 text-red-800";case"SUPER_ADMIN":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ze,{className:"h-8 w-8 animate-spin text-blue-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(E,{variant:"outline",size:"sm",onClick:async()=>{try{const e=await void 0;if(e.success&&e.data&&e.data.records){const s=e.data.records,t=Object.keys(s[0]||{}).join(","),a=s.map(e=>Object.values(e).map(e=>`"${e}"`).join(",")).join("\n"),l=new Blob([t+"\n"+a],{type:"text/csv;charset=utf-8;"}),n=window.URL.createObjectURL(l),r=document.createElement("a");r.href=n,r.download=`users-export-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),v({title:"Export Complete",description:e.message||"Users data has been downloaded."})}else v({title:"Export Complete (Demo)",description:"Demo users data has been prepared for download."})}catch(e){v({title:"Export Complete (Demo)",description:"Demo users data export completed.",variant:"default"})}},children:[n.jsx(K,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(te,{open:h,onOpenChange:u,children:[n.jsx(re,{asChild:!0,children:n.jsxs(E,{size:"sm",children:[n.jsx(de,{className:"h-4 w-4 mr-2"}),"Add User"]})}),n.jsxs(ae,{children:[n.jsxs(le,{children:[n.jsx(ne,{children:"Create New User"}),n.jsx(ie,{children:"Add a new user to the system."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(se,{htmlFor:"full_name",className:"text-right",children:"Full Name"}),n.jsx(ee,{id:"full_name",value:f.full_name,onChange:e=>g({...f,full_name:e.target.value}),className:"col-span-3",placeholder:"John Doe"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(se,{htmlFor:"email",className:"text-right",children:"Email"}),n.jsx(ee,{id:"email",type:"email",value:f.email,onChange:e=>g({...f,email:e.target.value}),className:"col-span-3",placeholder:"john@example.com"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(se,{htmlFor:"role",className:"text-right",children:"Role"}),n.jsxs(I,{value:f.role,onValueChange:e=>g({...f,role:e}),children:[n.jsx(O,{className:"col-span-3",children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"USER",children:"User"}),n.jsx(q,{value:"ADMIN",children:"Admin"}),n.jsx(q,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(se,{htmlFor:"status",className:"text-right",children:"Status"}),n.jsxs(I,{value:f.status,onValueChange:e=>g({...f,status:e}),children:[n.jsx(O,{className:"col-span-3",children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"active",children:"Active"}),n.jsx(q,{value:"inactive",children:"Inactive"}),n.jsx(q,{value:"suspended",children:"Suspended"})]})]})]})]}),n.jsxs(ce,{children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),n.jsx(E,{type:"button",onClick:async()=>{try{const t=await void 0;if(t.success)v({title:"Success",description:t.message||"User created successfully"}),u(!1),g({full_name:"",email:"",role:"USER",status:"active"}),y();else{v({title:"Demo Mode",description:"User created successfully (demo mode)",variant:"default"});const t={id:Math.floor(1e4*Math.random()),name:f.full_name,...f,createdAt:(new Date).toISOString(),_count:{payments:0,claims:0}};s([t,...e]),u(!1),g({full_name:"",email:"",role:"USER",status:"active"})}}catch(t){v({title:"Demo Mode",description:"User created successfully (demo mode)",variant:"default"});const a={id:Math.floor(1e4*Math.random()),name:f.full_name,...f,createdAt:(new Date).toISOString(),_count:{payments:0,claims:0}};s([a,...e]),u(!1),g({full_name:"",email:"",role:"USER",status:"active"})}},children:"Create User"})]})]})]})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(R,{children:"Users"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ee,{placeholder:"Search users...",value:r,onChange:e=>i(e.target.value),className:"pl-10 w-64"})]}),n.jsx(E,{onClick:y,variant:"outline",size:"sm",children:n.jsx(Ze,{className:"h-4 w-4"})})]})]})}),n.jsxs(T,{children:[n.jsxs(ks,{children:[n.jsx(Ss,{children:n.jsxs(Ds,{children:[n.jsx(Rs,{children:"Name"}),n.jsx(Rs,{children:"Email"}),n.jsx(Rs,{children:"Role"}),n.jsx(Rs,{children:"Status"}),n.jsx(Rs,{children:"Payments"}),n.jsx(Rs,{children:"Claims"}),n.jsx(Rs,{children:"Joined"}),n.jsx(Rs,{children:"Actions"})]})}),n.jsx(Ms,{children:e.map(t=>{var a,l;return n.jsxs(Ds,{children:[n.jsx(Ts,{className:"font-medium",children:t.name}),n.jsx(Ts,{children:t.email}),n.jsx(Ts,{children:n.jsx(U,{className:b(t.role),children:t.role})}),n.jsx(Ts,{children:n.jsxs(I,{onValueChange:a=>(async(t,a)=>{try{const l=await void 0;l.success?(v({title:"Success",description:l.message||`User status updated to ${a}.`}),y()):(v({title:"Demo Mode",description:`User status updated to ${a} (demo mode)`,variant:"default"}),s(e.map(e=>e.id===t?{...e,status:a}:e)))}catch(l){v({title:"Demo Mode",description:`User status updated to ${a} (demo mode)`,variant:"default"}),s(e.map(e=>e.id===t?{...e,status:a}:e))}})(t.id,a),children:[n.jsx(O,{className:"w-32",children:n.jsx(z,{placeholder:"Update Status"})}),n.jsxs($,{children:[n.jsx(q,{value:"active",children:"Active"}),n.jsx(q,{value:"suspended",children:"Suspended"}),n.jsx(q,{value:"inactive",children:"Inactive"})]})]})}),n.jsx(Ts,{children:(null==(a=t._count)?void 0:a.payments)||0}),n.jsx(Ts,{children:(null==(l=t._count)?void 0:l.claims)||0}),n.jsx(Ts,{children:new Date(t.createdAt).toLocaleDateString()}),n.jsx(Ts,{children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(te,{open:(null==p?void 0:p.id)===t.id,onOpenChange:e=>!e&&j(null),children:[n.jsx(re,{asChild:!0,children:n.jsx(E,{variant:"outline",size:"sm",onClick:()=>j(t),children:n.jsx(as,{className:"h-4 w-4"})})}),n.jsxs(ae,{children:[n.jsxs(le,{children:[n.jsx(ne,{children:"Edit User"}),n.jsx(ie,{children:"Update user information."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(se,{htmlFor:"edit_name",className:"text-right",children:"Full Name"}),n.jsx(ee,{id:"edit_name",defaultValue:(null==p?void 0:p.name)||(null==p?void 0:p.full_name),className:"col-span-3"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(se,{htmlFor:"edit_email",className:"text-right",children:"Email"}),n.jsx(ee,{id:"edit_email",type:"email",defaultValue:null==p?void 0:p.email,className:"col-span-3"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(se,{htmlFor:"edit_role",className:"text-right",children:"Role"}),n.jsxs(I,{defaultValue:null==p?void 0:p.role,children:[n.jsx(O,{className:"col-span-3",children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"USER",children:"User"}),n.jsx(q,{value:"ADMIN",children:"Admin"}),n.jsx(q,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]})]}),n.jsxs(ce,{children:[n.jsx(E,{type:"button",variant:"outline",onClick:()=>j(null),children:"Cancel"}),n.jsx(E,{type:"button",onClick:()=>{const t=document.getElementById("edit_name"),a=document.getElementById("edit_email");(async t=>{try{const a=await void 0;a.success?(v({title:"Success",description:a.message||"User updated successfully"}),j(null),y()):(v({title:"Demo Mode",description:"User updated successfully (demo mode)",variant:"default"}),s(e.map(e=>e.id===p.id?{...e,...t}:e)),j(null))}catch(a){v({title:"Demo Mode",description:"User updated successfully (demo mode)",variant:"default"}),s(e.map(e=>e.id===p.id?{...e,...t}:e)),j(null)}})({full_name:(null==t?void 0:t.value)||(null==p?void 0:p.name),name:(null==t?void 0:t.value)||(null==p?void 0:p.name),email:(null==a?void 0:a.value)||(null==p?void 0:p.email)})},children:"Update User"})]})]})]}),n.jsx(E,{variant:"outline",size:"sm",onClick:()=>(async t=>{if(confirm("Are you sure you want to delete this user?"))try{const a=await void 0;a.success?(v({title:"Success",description:a.message||"User deleted successfully"}),y()):(v({title:"Demo Mode",description:"User deletion simulated successfully",variant:"default"}),s(e.filter(e=>e.id!==t)))}catch(a){v({title:"Demo Mode",description:"User deletion simulated successfully",variant:"default"}),s(e.filter(e=>e.id!==t))}})(t.id),className:"text-red-600 hover:text-red-700",children:n.jsx(rs,{className:"h-4 w-4"})})]})})]},t.id)})})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",e.length," users"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{variant:"outline",size:"sm",disabled:1===c,onClick:()=>d(c-1),children:"Previous"}),n.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",c," of ",m]}),n.jsx(E,{variant:"outline",size:"sm",disabled:c===m,onClick:()=>d(c+1),children:"Next"})]})]})]})]})]})}function As(){const[e,s]=t.useState([]),[a,l]=t.useState(!0),[r,i]=t.useState(null),[c,d]=t.useState(!1),[m,x]=t.useState(!1),[h,u]=t.useState(""),[p,j]=t.useState(""),[f,g]=t.useState(1),[v,N]=t.useState(1),[y,b]=t.useState({total:0,pending:0,approved:0,rejected:0,draft:0}),{toast:w}=o();t.useEffect(()=>{C();const e=setInterval(()=>{C()},1e4);return()=>clearInterval(e)},[f,p,h]);const C=async()=>{var e;try{l(!0);const t=await void 0;if(t.success){const a=t.data.quotes||[];s(a),N((null==(e=t.data.pagination)?void 0:e.totalPages)||1);const l={total:a.length,pending:a.filter(e=>"pending"===e.status).length,approved:a.filter(e=>"approved"===e.status).length,rejected:a.filter(e=>"rejected"===e.status).length,draft:a.filter(e=>"draft"===e.status).length};b(l)}else s([]),w({title:"Error",description:"Failed to fetch quotes data.",variant:"destructive"})}catch(t){s([]),w({title:"Error",description:"Failed to fetch quotes data.",variant:"destructive"})}finally{l(!1)}},k=async(e,s)=>{try{const t=await void 0;t.success?(await C(),x(!1),r&&r.id===e&&i({...r,status:s}),w({title:"Status Updated",description:`Quote status updated to ${s}`})):w({title:"Update Failed",description:t.error||"Failed to update quote status",variant:"destructive"})}catch(t){w({title:"Update Failed",description:t.message||"Failed to update quote status",variant:"destructive"})}},S=async e=>{if(window.confirm("Are you sure you want to delete this quote? This action cannot be undone."))try{await void 0,await C(),d(!1),w({title:"Quote Deleted",description:"Quote has been successfully deleted."})}catch(s){w({title:"Delete Failed",description:"Failed to delete quote.",variant:"destructive"})}},L=async e=>{try{const s=await void 0,t=new Blob([s.data],{type:"csv"===e?"text/csv":"application/json"}),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`quotes-export.${e}`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l),w({title:"Export Complete",description:`Quotes exported as ${e.toUpperCase()}`})}catch(s){w({title:"Export Failed",description:"Failed to export quotes data.",variant:"destructive"})}},F=e=>{switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},V=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quote Management"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(E,{onClick:()=>L("csv"),variant:"outline",children:[n.jsx(K,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),n.jsxs(E,{onClick:()=>L("json"),variant:"outline",children:[n.jsx(K,{className:"h-4 w-4 mr-2"}),"Export JSON"]}),n.jsxs(E,{onClick:C,variant:"outline",children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Total Quotes"}),n.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(T,{children:n.jsx("div",{className:"text-2xl font-bold",children:y.total})})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Pending"}),n.jsx(ue,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(T,{children:n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:y.pending})})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Approved"}),n.jsx(Y,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(T,{children:n.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.approved})})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Rejected"}),n.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(T,{children:n.jsx("div",{className:"text-2xl font-bold text-red-600",children:y.rejected})})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Drafts"}),n.jsx(as,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(T,{children:n.jsx("div",{className:"text-2xl font-bold text-gray-600",children:y.draft})})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center gap-2",children:[n.jsx($e,{className:"h-5 w-5"}),"Filters"]})}),n.jsx(T,{children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-64",children:[n.jsx(se,{htmlFor:"search",children:"Search Quotes"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ee,{id:"search",type:"text",placeholder:"Search by name, email, or product...",value:h,onChange:e=>u(e.target.value),className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(se,{htmlFor:"status-filter",children:"Status"}),n.jsxs(I,{value:p,onValueChange:j,children:[n.jsx(O,{className:"w-40",children:n.jsx(z,{placeholder:"All Status"})}),n.jsxs($,{children:[n.jsx(q,{value:"all",children:"All Status"}),n.jsx(q,{value:"pending",children:"Pending"}),n.jsx(q,{value:"approved",children:"Approved"}),n.jsx(q,{value:"rejected",children:"Rejected"}),n.jsx(q,{value:"draft",children:"Draft"})]})]})]})]})})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{children:["Quote Requests (",e.length,")"]})}),n.jsx(T,{children:a?n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx(Ze,{className:"h-6 w-6 animate-spin mr-2"}),"Loading quotes..."]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"p-3 text-left",children:"Customer"}),n.jsx("th",{className:"p-3 text-left",children:"Product"}),n.jsx("th",{className:"p-3 text-left",children:"Location"}),n.jsx("th",{className:"p-3 text-left",children:"Budget"}),n.jsx("th",{className:"p-3 text-left",children:"Contact"}),n.jsx("th",{className:"p-3 text-left",children:"Status"}),n.jsx("th",{className:"p-3 text-left",children:"Created"}),n.jsx("th",{className:"p-3 text-left",children:"Actions"})]})}),n.jsx("tbody",{children:e.length>0?e.map(e=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),n.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(We,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"truncate max-w-32",title:e.product,children:e.product})]})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(A,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{children:e.location||"Not specified"})]})}),n.jsx("td",{className:"p-3",children:e.budget||"Not specified"}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(_,{className:"h-3 w-3"}),e.phone]}),n.jsx("div",{className:"text-gray-500",children:e.contactMethod})]})}),n.jsx("td",{className:"p-3",children:n.jsx(U,{className:F(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),n.jsx("td",{className:"p-3",children:V(e.createdAt)}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>(e=>{i(e),d(!0)})(e),children:n.jsx(ze,{className:"h-4 w-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>{i(e),x(!0)},children:n.jsx(as,{className:"h-4 w-4"})}),n.jsx(E,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",onClick:()=>S(e.id),children:n.jsx(rs,{className:"h-4 w-4"})})]})})]},e.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:"No quotes found"})})})]})}),v>1&&n.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[n.jsx(E,{variant:"outline",onClick:()=>g(e=>Math.max(e-1,1)),disabled:1===f,children:"Previous"}),n.jsxs("span",{className:"px-4 py-2",children:["Page ",f," of ",v]}),n.jsx(E,{variant:"outline",onClick:()=>g(e=>Math.min(e+1,v)),disabled:f===v,children:"Next"})]})]})})]}),n.jsx(te,{open:c,onOpenChange:d,children:n.jsxs(ae,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(le,{children:n.jsx(ne,{children:"Quote Request Details"})}),r&&n.jsx("div",{className:"space-y-6",children:n.jsxs(oe,{defaultValue:"details",className:"w-full",children:[n.jsxs(me,{className:"grid w-full grid-cols-3",children:[n.jsx(xe,{value:"details",children:"Details"}),n.jsx(xe,{value:"requirements",children:"Requirements"}),n.jsx(xe,{value:"actions",children:"Actions"})]}),n.jsx(he,{value:"details",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Customer Name"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[r.firstName," ",r.lastName]})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.email})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Phone"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.phone})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Location"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.location||"Not specified"})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Product"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.product})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Budget"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.budget||"Not specified"})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Coverage"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.coverage||"Not specified"})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Contact Method"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.contactMethod})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Best Time"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.bestTime||"Not specified"})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Status"}),n.jsx(U,{className:F(r.status),children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Created"}),n.jsx("p",{className:"text-sm text-gray-600",children:V(r.createdAt)})]}),n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Updated"}),n.jsx("p",{className:"text-sm text-gray-600",children:V(r.updatedAt)})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(se,{className:"text-sm font-medium",children:"Attached Documents"}),r.documents&&r.documents.length>0?n.jsx("ul",{className:"mt-2 space-y-2",children:r.documents.map(e=>{var s;const t=null==(s=e.originalName.split(".").pop())?void 0:s.toLowerCase();let a=n.jsx(Z,{className:"h-4 w-4 text-muted-foreground"});return["pdf"].includes(t)&&(a=n.jsx(Z,{className:"h-4 w-4 text-red-600"})),["jpg","jpeg","png","gif","svg"].includes(t)&&(a=n.jsx("span",{className:"h-4 w-4 inline-block bg-gray-300 rounded",children:"IMG"})),["doc","docx"].includes(t)&&(a=n.jsx(Z,{className:"h-4 w-4 text-blue-600"})),n.jsxs("li",{className:"flex items-center gap-2 bg-gray-100 rounded px-2 py-1",children:[a,n.jsx("span",{className:"truncate max-w-xs",title:e.originalName,children:e.originalName}),n.jsx(E,{size:"sm",variant:"outline",onClick:()=>{},children:"Download"})]},e.id)})}):n.jsx("p",{className:"text-gray-500 mt-2",children:"No documents attached"})]})]})}),n.jsx(he,{value:"requirements",className:"space-y-4",children:r.details?n.jsxs("div",{children:[n.jsx(se,{className:"text-sm font-medium",children:"Insurance Product Details"}),(()=>{let e;try{e=JSON.parse(r.details)}catch{e=r.details}return"object"==typeof e&&null!==e?n.jsx("table",{className:"w-full text-sm bg-gray-50 rounded-lg mt-2",children:n.jsx("tbody",{children:Object.entries(e).map(([e,s])=>n.jsxs("tr",{className:"border-b last:border-b-0",children:[n.jsx("td",{className:"py-2 px-3 font-medium text-gray-700 capitalize whitespace-nowrap",children:e.replace(/([A-Z])/g," $1")}),n.jsx("td",{className:"py-2 px-3 text-gray-600 break-all",children:String(s)})]},e))})}):n.jsx("p",{className:"text-sm text-gray-600 mt-1 p-3 bg-gray-50 rounded-lg whitespace-pre-wrap",children:r.details})})()]}):n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No additional requirements provided"})}),n.jsxs(he,{value:"actions",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(E,{className:"w-full",onClick:()=>k(r.id,"approved"),disabled:"approved"===r.status,children:[n.jsx(Y,{className:"h-4 w-4 mr-2"}),"Approve Quote"]}),n.jsxs(E,{variant:"destructive",className:"w-full",onClick:()=>k(r.id,"rejected"),disabled:"rejected"===r.status,children:[n.jsx(Z,{className:"h-4 w-4 mr-2"}),"Reject Quote"]}),n.jsxs(E,{variant:"outline",className:"w-full",onClick:()=>k(r.id,"pending"),disabled:"pending"===r.status,children:[n.jsx(ue,{className:"h-4 w-4 mr-2"}),"Mark Pending"]}),n.jsxs(E,{variant:"outline",className:"w-full text-red-600 hover:text-red-800",onClick:()=>S(r.id),children:[n.jsx(rs,{className:"h-4 w-4 mr-2"}),"Delete Quote"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[n.jsxs(E,{className:"w-full flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white",onClick:()=>{let e=r.phone||"";e=e.replace(/\D/g,""),e.startsWith("0")?e="254"+e.slice(1):e.startsWith("254")||e.startsWith("7")&&(e="254"+e);const s=encodeURIComponent(`Hello ${r.firstName}, regarding your quote for ${r.product}: ...`);window.open(`https://wa.me/${e}?text=${s}`,"_blank")},children:[n.jsx(pe,{className:"h-4 w-4"}),"Respond via WhatsApp"]}),n.jsxs(E,{className:"w-full flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{const e=encodeURIComponent(`Your Insurance Quote Request for ${r.product}`),s=encodeURIComponent(`Hello ${r.firstName},\n\nThank you for your quote request for ${r.product}. ...`);window.open(`mailto:${r.email}?subject=${e}&body=${s}`)},children:[n.jsx(P,{className:"h-4 w-4"}),"Respond via Email"]})]})]})]})})]})}),n.jsx(te,{open:m,onOpenChange:x,children:n.jsxs(ae,{className:"max-w-md",children:[n.jsx(le,{children:n.jsx(ne,{children:"Edit Quote Status"})}),r&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(se,{htmlFor:"edit-status",children:"Status"}),n.jsxs(I,{value:r.status,onValueChange:e=>i({...r,status:e}),children:[n.jsx(O,{children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"pending",children:"Pending"}),n.jsx(q,{value:"approved",children:"Approved"}),n.jsx(q,{value:"rejected",children:"Rejected"}),n.jsx(q,{value:"draft",children:"Draft"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{className:"flex-1",onClick:()=>k(r.id,r.status),children:"Save Changes"}),n.jsx(E,{variant:"outline",onClick:()=>x(!1),children:"Cancel"})]})]})]})})]})}function _s(){const[e,s]=t.useState([]),[a,l]=t.useState(null),[r,i]=t.useState(!0),[c,d]=t.useState(""),[m,x]=t.useState(1),[h,u]=t.useState(1);o(),t.useEffect(()=>{p(),j()},[c,m]);const p=async()=>{try{i(!0);const e=await void 0;if(e.success){let t=e.data;c.trim()&&(t=e.data.filter(e=>{var s,t,a;return(null==(s=e.reference)?void 0:s.toLowerCase().includes(c.toLowerCase()))||(null==(t=e.amount)?void 0:t.toString().includes(c))||(null==(a=e.status)?void 0:a.toLowerCase().includes(c.toLowerCase()))})),s(t),u(Math.ceil((e.count||0)/20))}}catch(e){}finally{i(!1)}},j=async()=>{try{const e=await void 0;e.success&&l(e.data)}catch(e){}},f=e=>{switch(e){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r&&!e.length?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ze,{className:"h-8 w-8 animate-spin text-blue-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payment Management"}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(E,{variant:"outline",size:"sm",children:[n.jsx(K,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),a&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Total Revenue"}),n.jsx(je,{className:"h-4 w-4 text-green-600"})]}),n.jsx(T,{children:n.jsxs("div",{className:"text-2xl font-bold",children:["KES ",(a.totalRevenue||0).toLocaleString()]})})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Monthly Revenue"}),n.jsx(J,{className:"h-4 w-4 text-blue-600"})]}),n.jsx(T,{children:n.jsxs("div",{className:"text-2xl font-bold",children:["KES ",(a.monthlyRevenue||0).toLocaleString()]})})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Success Rate"}),n.jsx(J,{className:"h-4 w-4 text-purple-600"})]}),n.jsx(T,{children:n.jsx("div",{className:"text-2xl font-bold",children:"92%"})})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(R,{children:"Recent Payments"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ee,{placeholder:"Search payments...",value:c,onChange:e=>d(e.target.value),className:"pl-10 w-64"})]}),n.jsx(E,{onClick:p,variant:"outline",size:"sm",children:n.jsx(Ze,{className:"h-4 w-4"})})]})]})}),n.jsxs(T,{children:[n.jsxs(ks,{children:[n.jsx(Ss,{children:n.jsxs(Ds,{children:[n.jsx(Rs,{children:"Transaction ID"}),n.jsx(Rs,{children:"User"}),n.jsx(Rs,{children:"Amount"}),n.jsx(Rs,{children:"Status"}),n.jsx(Rs,{children:"Method"}),n.jsx(Rs,{children:"Date"}),n.jsx(Rs,{children:"Actions"})]})}),n.jsx(Ms,{children:e.map(e=>n.jsxs(Ds,{children:[n.jsx(Ts,{className:"font-mono text-sm",children:e.transactionId}),n.jsx(Ts,{children:e.user?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:e.user.name}),n.jsx("div",{className:"text-sm text-gray-500",children:e.user.email})]}):n.jsx("div",{className:"text-sm text-gray-500",children:e.email})}),n.jsxs(Ts,{children:["KES ",e.amount.toLocaleString()]}),n.jsx(Ts,{children:n.jsx(U,{className:f(e.status),children:e.status})}),n.jsx(Ts,{children:e.method||"N/A"}),n.jsx(Ts,{children:new Date(e.createdAt).toLocaleDateString()}),n.jsx(Ts,{children:n.jsx(E,{variant:"outline",size:"sm",children:n.jsx(as,{className:"h-4 w-4"})})})]},e.id))})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",e.length," payments"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{variant:"outline",size:"sm",disabled:1===m,onClick:()=>x(m-1),children:"Previous"}),n.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",m," of ",h]}),n.jsx(E,{variant:"outline",size:"sm",disabled:m===h,onClick:()=>x(m+1),children:"Next"})]})]})]})]})]})}function Ps(){const[e,s]=t.useState([]),[a,l]=t.useState(!0),[r,i]=t.useState(null),[c,d]=t.useState(!1),[m,x]=t.useState(!1),[h,u]=t.useState(!1),[p,j]=t.useState(""),[f,g]=t.useState(""),[v,N]=t.useState(1),[y,b]=t.useState(1),[w,C]=t.useState({meetingDate:"",meetingTime:"",meetingType:"online",meetingLink:"",notes:"",duration:"60"}),{toast:k}=o(),S=t.useCallback(e=>{s(e.consultations||[]),l(!1)},[]),A=t.useCallback(e=>{s(s=>s.map(s=>s.id===e.id?{...s,...e}:s)),k({title:"Consultation Updated",description:`Consultation ${e.id} has been updated.`})},[k]),L=t.useCallback(e=>{k({title:"Using Demo Data",description:e.message,variant:"default"})},[k]);t.useEffect(()=>(F(),()=>{}),[S,A,L]),t.useEffect(()=>{F()},[v,f,p]);const F=async()=>{var e;try{l(!0);const t=await void 0;t.success?(s(t.data.consultations||[]),b((null==(e=t.data.pagination)?void 0:e.totalPages)||1)):s([])}catch(t){s([]),k({title:"Error",description:"Failed to fetch consultations data.",variant:"destructive"})}finally{l(!1)}},V=async(e,s)=>{try{const t=await void 0;t.success?(F(),r&&r.id===e&&i({...r,status:s}),k({title:"Success",description:"Consultation status updated successfully."})):k({title:"Error",description:t.message||"Failed to update consultation status.",variant:"destructive"})}catch(t){k({title:"Error",description:"Failed to update consultation status.",variant:"destructive"})}},B=e=>{switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"contacted":return"bg-orange-100 text-orange-800";case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"confirmed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return t.useEffect(()=>{F()},[v,p,f]),a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-lg",children:"Loading consultations..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Consultations Management"}),n.jsxs(E,{onClick:F,variant:"outline",size:"sm",disabled:a,children:[n.jsx(Ze,{className:"h-4 w-4 mr-2 "+(a?"animate-spin":"")}),"Refresh"]})]}),n.jsx(M,{children:n.jsx(T,{className:"p-4",children:n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ye,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ee,{placeholder:"Search consultations...",value:p,onChange:e=>j(e.target.value),className:"pl-10"})]}),n.jsxs(I,{value:f,onValueChange:g,children:[n.jsx(O,{className:"w-48",children:n.jsx(z,{placeholder:"Filter by status"})}),n.jsxs($,{children:[n.jsx(q,{value:"all",children:"All Statuses"}),n.jsx(q,{value:"pending",children:"Pending"}),n.jsx(q,{value:"contacted",children:"Contacted"}),n.jsx(q,{value:"confirmed",children:"Confirmed"}),n.jsx(q,{value:"scheduled",children:"Scheduled"}),n.jsx(q,{value:"completed",children:"Completed"}),n.jsx(q,{value:"cancelled",children:"Cancelled"})]})]}),n.jsx(E,{variant:"outline",size:"icon",children:n.jsx($e,{className:"h-4 w-4"})})]})})}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{children:["Consultations List (",e.length," records)"]})}),n.jsxs(T,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-medium",children:"Client"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Service Type"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Scheduled"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Country"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Status"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Requested"}),n.jsx("th",{className:"text-left p-3 font-medium",children:"Actions"})]})}),n.jsx("tbody",{children:e.length>0?e.map(e=>{return n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:e.name}),n.jsx("div",{className:"text-sm text-gray-500",children:e.email}),e.company&&n.jsx("div",{className:"text-xs text-gray-400",children:e.company})]})}),n.jsx("td",{className:"p-3",children:e.serviceType}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Y,{className:"h-4 w-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",children:e.consultationDate}),n.jsx("div",{className:"text-xs text-gray-500",children:e.consultationTime})]})]})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{children:e.country||"N/A"})]})}),n.jsx("td",{className:"p-3",children:n.jsx(U,{className:B(e.status),children:e.status})}),n.jsx("td",{className:"p-3",children:(s=e.createdAt,new Date(s).toLocaleDateString())}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>(async()=>{try{const e=await void 0;e.success?(i(e.data),d(!0)):k({title:"Error",description:e.message||"Failed to fetch consultation details.",variant:"destructive"})}catch(e){k({title:"Error",description:"Failed to fetch consultation details.",variant:"destructive"})}})(e.id),children:n.jsx(ze,{className:"h-4 w-4"})}),n.jsxs(I,{onValueChange:s=>V(e.id,s),children:[n.jsx(O,{className:"w-32",children:n.jsx(z,{placeholder:"Update"})}),n.jsxs($,{children:[n.jsx(q,{value:"pending",children:"Pending"}),n.jsx(q,{value:"contacted",children:"Contacted"}),n.jsx(q,{value:"confirmed",children:"Confirmed"}),n.jsx(q,{value:"scheduled",children:"Scheduled"}),n.jsx(q,{value:"completed",children:"Completed"}),n.jsx(q,{value:"cancelled",children:"Cancelled"})]})]})]})})]},e.id);var s}):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"text-center py-12",children:n.jsxs("div",{className:"text-gray-500",children:[n.jsx(Y,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No consultations found"}),n.jsx("p",{children:"No consultations match your current filters."})]})})})})]})}),y>1&&n.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[n.jsx(E,{variant:"outline",disabled:1===v,onClick:()=>N(v-1),children:"Previous"}),n.jsxs("span",{className:"flex items-center px-4",children:["Page ",v," of ",y]}),n.jsx(E,{variant:"outline",disabled:v===y,onClick:()=>N(v+1),children:"Next"})]})]})]}),n.jsx(te,{open:c,onOpenChange:d,children:n.jsxs(ae,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(le,{children:n.jsx(ne,{children:"Consultation Details"})}),r&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"text-lg flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5"}),"Client Information"]})}),n.jsxs(T,{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),n.jsx("p",{children:r.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(P,{className:"h-4 w-4 text-gray-400"}),r.email]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 text-gray-400"}),r.phone]})]}),r.company&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Company"}),n.jsx("p",{children:r.company})]}),r.country&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Country"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(X,{className:"h-4 w-4 text-gray-400"}),r.country]})]})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"text-lg flex items-center gap-2",children:[n.jsx(Y,{className:"h-5 w-5"}),"Consultation Details"]})}),n.jsxs(T,{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Service Type"}),n.jsx("p",{children:r.serviceType})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Preferred Date"}),n.jsx("p",{children:r.consultationDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Preferred Time"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(ue,{className:"h-4 w-4 text-gray-400"}),r.consultationTime]})]}),r.timezone&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Timezone"}),n.jsx("p",{children:r.timezone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),n.jsx(U,{className:B(r.status),children:r.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requested On"}),n.jsx("p",{children:(G=r.createdAt,new Date(G).toLocaleString())})]})]})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsx(R,{className:"text-lg",children:"Client Message"})}),n.jsx(T,{children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:r.message||"No message provided"})})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsx(R,{className:"text-lg",children:"Quick Actions"})}),n.jsx(T,{children:n.jsxs("div",{className:"flex gap-3 flex-wrap",children:[n.jsxs(E,{onClick:()=>window.open(`mailto:${r.email}`,"_blank"),variant:"outline",children:[n.jsx(P,{className:"h-4 w-4 mr-2"}),"Send Email"]}),n.jsxs(E,{onClick:()=>(e=>{var s,t;let a=e.phone||(null==(t=null==(s=e.user)?void 0:s.profile)?void 0:t.phone);if(!a)return void k({title:"Error",description:"No phone number found for this client.",variant:"destructive"});a=a.replace(/\s+/g,"").replace(/[-()]/g,""),a.startsWith("0")?a="+254"+a.slice(1):a.startsWith("254")?a="+"+a:a.startsWith("+")||(a="+254"+a);const l=encodeURIComponent(`Hello ${e.name}, this is regarding your consultation request for ${e.serviceType}. We would like to discuss the details of your consultation scheduled for ${e.consultationDate} at ${e.consultationTime}. Please let us know if you have any questions or need to reschedule. Best regards, Galloways Kenya Team.`);window.open(`https://wa.me/${a.replace("+","")}?text=${l}`,"_blank"),k({title:"WhatsApp Message Sent",description:`Message sent to ${e.name} at ${a}`}),V(e.id,"contacted")})(r),variant:"outline",className:"bg-green-50 hover:bg-green-100 border-green-200",children:[n.jsx(pe,{className:"h-4 w-4 mr-2"}),"WhatsApp Client"]}),n.jsxs(E,{onClick:()=>(e=>{i(e),u(!1);let s="";if(e.consultationDate){const t=e.consultationDate;try{if(t.includes("/")){const e=t.split("/");if(3===e.length){const t=new Date(`${e[2]}-${e[0].padStart(2,"0")}-${e[1].padStart(2,"0")}`),a=new Date(`${e[2]}-${e[1].padStart(2,"0")}-${e[0].padStart(2,"0")}`),l=isNaN(t.getTime())?a:t;isNaN(l.getTime())||(s=l.toISOString().split("T")[0])}}else if(t.includes("-")){const e=new Date(t);isNaN(e.getTime())||(s=e.toISOString().split("T")[0])}else{const e=new Date(t);isNaN(e.getTime())||(s=e.toISOString().split("T")[0])}}catch(a){}}let t="";if(e.consultationTime){const s=e.consultationTime;try{if(s.includes("AM")||s.includes("PM")){const[e,a]=s.split(" "),[l,n]=e.split(":");let r=parseInt(l);"PM"===a&&12!==r&&(r+=12),"AM"===a&&12===r&&(r=0),t=`${r.toString().padStart(2,"0")}:${n||"00"}`}else{const[e,a]=s.split(":");t=`${e.padStart(2,"0")}:${a||"00"}`}}catch(a){}}C({meetingDate:s,meetingTime:t,meetingType:"online",meetingLink:"",notes:"",duration:"60"}),x(!0)})(r),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]}),n.jsxs(E,{onClick:()=>window.open(`tel:${r.phone}`,"_blank"),variant:"outline",children:[n.jsx(_,{className:"h-4 w-4 mr-2"}),"Call Client"]})]})})]})]})]})}),n.jsx(te,{open:m,onOpenChange:x,children:n.jsxs(ae,{className:"max-w-2xl",children:[n.jsx(le,{children:n.jsx(ne,{children:"Schedule Meeting"})}),r&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("h4",{className:"font-medium text-blue-900",children:["Client: ",r.name]}),n.jsxs("p",{className:"text-sm text-blue-700",children:[r.email," • ",r.phone]}),n.jsxs("p",{className:"text-sm text-blue-600",children:["Service: ",r.serviceType]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(se,{htmlFor:"meetingDate",children:"Meeting Date *"}),n.jsx(ee,{id:"meetingDate",type:"date",value:w.meetingDate,onChange:e=>{C({...w,meetingDate:e.target.value})},min:(new Date).toISOString().split("T")[0],required:!0,className:w.meetingDate?"border-green-300":"border-amber-300"}),w.meetingDate&&n.jsx("p",{className:"text-xs text-green-600",children:"✓ Date selected"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(se,{htmlFor:"meetingTime",children:"Meeting Time *"}),n.jsx(ee,{id:"meetingTime",type:"time",value:w.meetingTime,onChange:e=>{C({...w,meetingTime:e.target.value})},required:!0,className:w.meetingTime?"border-green-300":"border-amber-300"}),w.meetingTime&&n.jsx("p",{className:"text-xs text-green-600",children:"✓ Time selected"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(se,{htmlFor:"meetingType",children:"Meeting Type *"}),n.jsxs(I,{value:w.meetingType,onValueChange:e=>C({...w,meetingType:e}),children:[n.jsx(O,{children:n.jsx(z,{placeholder:"Select meeting type"})}),n.jsxs($,{children:[n.jsx(q,{value:"online",children:"Online (Zoom/Teams/Meet)"}),n.jsx(q,{value:"phone",children:"Phone Call"}),n.jsx(q,{value:"in-person",children:"In-Person Meeting"}),n.jsx(q,{value:"whatsapp",children:"WhatsApp Video Call"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(se,{htmlFor:"duration",children:"Duration (minutes) *"}),n.jsxs(I,{value:w.duration,onValueChange:e=>C({...w,duration:e}),children:[n.jsx(O,{children:n.jsx(z,{placeholder:"Select duration"})}),n.jsxs($,{children:[n.jsx(q,{value:"30",children:"30 minutes"}),n.jsx(q,{value:"60",children:"60 minutes"}),n.jsx(q,{value:"90",children:"90 minutes"}),n.jsx(q,{value:"120",children:"2 hours"})]})]})]})]}),"online"===w.meetingType&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(se,{htmlFor:"meetingLink",children:"Meeting Link"}),n.jsx(ee,{id:"meetingLink",type:"url",placeholder:"https://zoom.us/j/... or https://teams.microsoft.com/...",value:w.meetingLink,onChange:e=>C({...w,meetingLink:e.target.value})}),n.jsx("p",{className:"text-sm text-gray-500",children:"If no link is provided, we'll create a Zoom meeting automatically."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(se,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(Ne,{id:"notes",placeholder:"Any specific agenda items, preparation requirements, or special instructions...",value:w.notes,onChange:e=>C({...w,notes:e.target.value}),rows:3})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[n.jsx(pe,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"WhatsApp Confirmation"})]}),n.jsx("p",{className:"text-sm text-green-700 mt-1",children:"After scheduling, a WhatsApp confirmation message will be automatically sent to the client with all meeting details."})]}),n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"Debug Info:"}),n.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[n.jsxs("p",{children:['Meeting Date: "',w.meetingDate,'" (Length: ',w.meetingDate.length,")"]}),n.jsxs("p",{children:['Meeting Time: "',w.meetingTime,'" (Length: ',w.meetingTime.length,")"]}),n.jsxs("p",{children:["Button Enabled: ",w.meetingDate&&w.meetingTime?"YES":"NO"]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[(!w.meetingDate||!w.meetingTime)&&n.jsxs("p",{className:"text-sm text-amber-600 bg-amber-50 p-2 rounded-md border border-amber-200",children:[n.jsx(is,{className:"h-4 w-4 inline mr-1"}),"Please fill in both meeting date and time to enable scheduling."]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(E,{variant:"outline",onClick:()=>{x(!1),i(null),u(!1)},children:h?"Close":"Cancel"}),!h&&n.jsxs(E,{onClick:async()=>{if(r)try{const e=await void 0;if(!e.success)throw new Error(e.message||"Failed to schedule meeting");u(!0),k({title:"Meeting Scheduled Successfully",description:e.message||`Meeting scheduled for ${w.meetingDate} at ${w.meetingTime}. Use the button below to send WhatsApp details.`}),F()}catch(e){k({title:"Error",description:e.message||"Failed to schedule meeting. Please try again.",variant:"destructive"})}},disabled:!w.meetingDate||!w.meetingTime,className:""+(w.meetingDate&&w.meetingTime?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed hover:bg-gray-300"),children:[n.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]}),h&&n.jsx("div",{className:"border-t pt-3",children:n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-green-800",children:"✅ Meeting Successfully Scheduled!"}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["📅 ",w.meetingDate," at ",w.meetingTime]}),n.jsx("p",{className:"text-xs text-green-600",children:"Click below to send meeting details to client via WhatsApp"})]}),n.jsxs(E,{onClick:async()=>{if(r)try{const e=await void 0;if(!e.success)throw new Error(e.message||"Failed to send WhatsApp details");k({title:"WhatsApp Details Sent Successfully",description:`Meeting details sent to ${r.name}`}),x(!1),i(null),u(!1)}catch(e){k({title:"Error",description:e.message||"Failed to send WhatsApp details. Please try again.",variant:"destructive"})}else k({title:"Error",description:"No consultation selected.",variant:"destructive"})},className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[n.jsx(pe,{className:"h-4 w-4 mr-2"}),"Send WhatsApp Details"]})]})})]})]})]})]})})]});var G}function Ls(){const[e,s]=t.useState([]),[a,l]=t.useState(!0),[r,i]=t.useState(null),[c,d]=t.useState(!1),[m,x]=t.useState(""),[h,u]=t.useState(""),[p,j]=t.useState(1),[f,g]=t.useState(1),{toast:v}=o(),N=async()=>{var e;try{l(!0);const t=await void 0;t.success?(s(t.data.diasporaRequests||[]),g((null==(e=t.data.pagination)?void 0:e.totalPages)||1)):(s([]),v({title:"Error",description:"Failed to fetch diaspora requests.",variant:"destructive"}))}catch(t){s([]),v({title:"Error",description:"Failed to fetch diaspora requests.",variant:"destructive"})}finally{l(!1)}};t.useEffect(()=>{N()},[p,h,m]);const y=e=>{switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"contacted":return"bg-blue-100 text-blue-800";case"scheduled":return"bg-purple-100 text-purple-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=e=>({USA:"🇺🇸",UK:"🇬🇧",Canada:"🇨🇦",Australia:"🇦🇺",Germany:"🇩🇪",France:"🇫🇷",Japan:"🇯🇵","South Africa":"🇿🇦",UAE:"🇦🇪","Saudi Arabia":"🇸🇦",Qatar:"🇶🇦",Kuwait:"🇰🇼"}[e]||"🌍");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Diaspora Services"}),n.jsxs(E,{onClick:N,variant:"outline",size:"sm",disabled:a,children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"text-lg flex items-center gap-2",children:[n.jsx($e,{className:"h-5 w-5"}),"Filters"]})}),n.jsx(T,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(ee,{placeholder:"Search diaspora requests...",value:m,onChange:e=>x(e.target.value),className:"w-full"})}),n.jsxs(I,{value:h,onValueChange:u,children:[n.jsx(O,{className:"w-[180px]",children:n.jsx(z,{placeholder:"Filter by status"})}),n.jsxs($,{children:[n.jsx(q,{value:"all",children:"All Statuses"}),n.jsx(q,{value:"pending",children:"Pending"}),n.jsx(q,{value:"contacted",children:"Contacted"}),n.jsx(q,{value:"scheduled",children:"Scheduled"}),n.jsx(q,{value:"completed",children:"Completed"}),n.jsx(q,{value:"cancelled",children:"Cancelled"})]})]})]})})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{children:["Diaspora Service Requests (",e.length,")"]})}),n.jsxs(T,{children:[a?n.jsx("div",{className:"flex justify-center items-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===e.length?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(X,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No diaspora requests found"})]}):n.jsx("div",{className:"space-y-4",children:e.map(e=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold",children:e.name}),n.jsx(U,{className:y(e.status),children:e.status}),n.jsx("span",{className:"text-lg",children:b(e.country)})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(P,{className:"h-4 w-4"}),e.email]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(X,{className:"h-4 w-4"}),e.country]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cs,{className:"h-4 w-4"}),e.serviceInterest]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Y,{className:"h-4 w-4"}),new Date(e.createdAt).toLocaleDateString()]})]}),e.scheduledAt&&n.jsxs("div",{className:"mt-2 text-sm text-green-600 flex items-center gap-1",children:[n.jsx(ue,{className:"h-4 w-4"}),"Scheduled: ",new Date(e.scheduledAt).toLocaleString()]})]}),n.jsxs("div",{className:"flex gap-2 ml-4",children:[n.jsxs(E,{variant:"outline",size:"sm",onClick:()=>(e=>{i(e),d(!0)})(e),children:[n.jsx(ze,{className:"h-4 w-4 mr-1"}),"View"]}),n.jsxs(I,{value:e.status,onValueChange:s=>(async(e,s)=>{try{const e=await void 0;e.success?(await N(),v({title:"Status Updated",description:`Diaspora request status updated to ${s}`})):v({title:"Update Failed",description:e.error||"Failed to update request status",variant:"destructive"})}catch(t){v({title:"Update Failed",description:t.message||"Failed to update request status",variant:"destructive"})}})(e.id,s),children:[n.jsx(O,{className:"w-32",children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"pending",children:"Pending"}),n.jsx(q,{value:"contacted",children:"Contacted"}),n.jsx(q,{value:"scheduled",children:"Scheduled"}),n.jsx(q,{value:"completed",children:"Completed"}),n.jsx(q,{value:"cancelled",children:"Cancelled"})]})]})]})]})},e.id))}),f>1&&n.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>j(e=>Math.max(e-1,1)),disabled:1===p,children:"Previous"}),n.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",p," of ",f]}),n.jsx(E,{variant:"outline",size:"sm",onClick:()=>j(e=>Math.min(e+1,f)),disabled:p===f,children:"Next"})]})]})]}),n.jsx(te,{open:c,onOpenChange:d,children:n.jsxs(ae,{className:"max-w-2xl",children:[n.jsx(le,{children:n.jsx(ne,{children:"Diaspora Service Request Details"})}),r&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold",children:"Client Name:"}),n.jsx("p",{children:r.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold",children:"Email:"}),n.jsx("p",{children:r.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold",children:"Phone:"}),n.jsx("p",{children:r.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold",children:"Country:"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx("span",{children:b(r.country)}),r.country]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold",children:"Timezone:"}),n.jsx("p",{children:r.timezone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold",children:"Service Interest:"}),n.jsx("p",{children:r.serviceInterest})]})]}),n.jsx("div",{className:"flex gap-2 mt-4",children:n.jsx(E,{variant:"outline",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:async()=>{try{const e=await void 0;e.success?(v({title:"Project-Based Consultation Created",description:"Consultation has been created and will appear in the dashboard."}),N()):v({title:"Error",description:e.message||"Failed to create project-based consultation.",variant:"destructive"})}catch(e){v({title:"Error",description:e.message||"Failed to create project-based consultation.",variant:"destructive"})}},children:"Project-Based Consultation"})}),r.scheduledAt&&n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold",children:"Scheduled Appointment:"}),n.jsx("p",{className:"text-green-600",children:new Date(r.scheduledAt).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"font-semibold",children:"Status:"}),n.jsx(U,{className:y(r.status),children:r.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold",children:"Submitted:"}),n.jsx("p",{children:new Date(r.createdAt).toLocaleString()})]})]})]})})]})}function Us(){const[e,s]=t.useState({siteName:"Galloways Insurance",supportEmail:"support@galloways.co.ke",maintenanceMode:!1,allowRegistration:!0,emailNotifications:!0,maxFileSize:10,allowedFileTypes:["pdf","jpg","png","docx","xlsx"],backupEnabled:!0,autoBackupInterval:"daily",sessionTimeout:60,twoFactorRequired:!1,passwordMinLength:8,systemHealth:{database:"healthy",email:"healthy",storage:"warning",api:"healthy",realtime:"healthy"}}),[a,l]=t.useState(!1),[r,i]=t.useState(!1),[c,d]=t.useState("2024-08-22 10:30:00"),[o,x]=t.useState({totalUsers:0,totalClaims:0,storageUsed:"2.4 GB",storageTotal:"10 GB",uptime:"99.9%",lastRestart:"2024-08-20 14:30:00"});t.useEffect(()=>{h(),u()},[]);const h=async()=>{try{l(!0);try{const e=await void 0;e.data&&(s(e.data),m.success("Settings loaded successfully"))}catch(e){m.info("Using default settings")}}catch(e){m.error("Failed to load settings")}finally{l(!1)}},u=async()=>{try{const e=await void 0,s=await void 0;e.success&&x(s=>{var t;return{...s,totalUsers:(null==(t=e.data)?void 0:t.totalUsers)||0}}),s.success&&x(e=>{var t;return{...e,totalClaims:(null==(t=s.data)?void 0:t.totalClaims)||0}})}catch(e){}},p=(e,t)=>{s(s=>({...s,[e]:t}))},j=(e,t)=>{s(s=>({...s,systemHealth:{...s.systemHealth,[e]:t}}))},f=async()=>{try{m.loading("Sending test email..."),await new Promise(e=>setTimeout(e,2e3)),m.success("Test email sent successfully!")}catch(e){m.error("Failed to send test email")}},g=e=>{switch(e){case"healthy":return n.jsx(B,{className:"h-4 w-4 text-green-600"});case"warning":return n.jsx(is,{className:"h-4 w-4 text-yellow-600"});case"error":return n.jsx(G,{className:"h-4 w-4 text-red-600"});default:return n.jsx(Pe,{className:"h-4 w-4 text-gray-400"})}},v=e=>{switch(e){case"healthy":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Ze,{className:"h-8 w-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-2 text-lg",children:"Loading settings..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(E,{onClick:h,variant:"outline",size:"sm",disabled:a,children:[n.jsx(Ze,{className:"h-4 w-4 mr-2 "+(a?"animate-spin":"")}),"Refresh"]}),n.jsxs(E,{onClick:async()=>{try{const s={settings:e,systemStats:o,lastBackup:c,exportDate:(new Date).toISOString(),version:"2.0"},t=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`system-settings-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(a),m.success("Settings exported successfully!")}catch(s){m.error("Failed to export settings")}},variant:"outline",size:"sm",children:[n.jsx(K,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(E,{onClick:async()=>{try{i(!0),await void 0,m.success("Settings saved successfully!")}catch(e){m.error("Failed to save settings")}finally{i(!1)}},disabled:r,size:"sm",children:[n.jsx(Xe,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Settings"]})]})]}),n.jsx(M,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:n.jsx(T,{className:"p-4",children:n.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[n.jsxs(E,{onClick:async()=>{try{m.loading("Creating system backup..."),await new Promise(e=>setTimeout(e,3e3));const e=(new Date).toISOString().replace("T"," ").split(".")[0];d(e),m.success("System backup completed successfully!")}catch(e){m.error("Backup failed")}},variant:"outline",size:"sm",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Backup Now"]}),n.jsxs(E,{onClick:async()=>{if(confirm("Are you sure you want to restore from the last backup? This will overwrite current data."))try{m.loading("Restoring from backup..."),await new Promise(e=>setTimeout(e,4e3)),m.success("System restored from backup successfully!")}catch(e){m.error("Restore failed")}},variant:"outline",size:"sm",children:[n.jsx(ye,{className:"h-4 w-4 mr-2"}),"Restore"]}),n.jsxs(E,{onClick:async()=>{try{m.loading("Clearing system cache..."),await new Promise(e=>setTimeout(e,1500)),m.success("System cache cleared!")}catch(e){m.error("Failed to clear cache")}},variant:"outline",size:"sm",children:[n.jsx(rs,{className:"h-4 w-4 mr-2"}),"Clear Cache"]}),n.jsxs(E,{onClick:async()=>{if(confirm("Are you sure you want to restart system services? This may cause brief downtime."))try{m.loading("Restarting system services..."),await new Promise(e=>setTimeout(e,5e3));const e=(new Date).toISOString().replace("T"," ").split(".")[0];x(s=>({...s,lastRestart:e})),m.success("System services restarted successfully!")}catch(e){m.error("Failed to restart services")}},variant:"outline",size:"sm",children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Restart Services"]}),n.jsxs(E,{onClick:f,variant:"outline",size:"sm",children:[n.jsx(P,{className:"h-4 w-4 mr-2"}),"Test Email"]}),n.jsxs(E,{onClick:async()=>{try{m.loading("Testing notification system..."),await new Promise(e=>setTimeout(e,1500)),m.success("Notifications are working correctly!"),setTimeout(()=>{m.info("This is a test info notification")},1e3),setTimeout(()=>{m("This is a test warning notification",{description:"System notifications are functioning properly"})},2e3)}catch(e){m.error("Notification test failed")}},variant:"outline",size:"sm",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Test Notifications"]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(M,{children:n.jsx(T,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(H,{className:"h-8 w-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:o.totalUsers}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"})]})]})})}),n.jsx(M,{children:n.jsx(T,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Z,{className:"h-8 w-8 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:o.totalClaims}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Claims"})]})]})})}),n.jsx(M,{children:n.jsx(T,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(qe,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:o.storageUsed}),n.jsxs("p",{className:"text-sm text-gray-500",children:["of ",o.storageTotal]})]})]})})}),n.jsx(M,{children:n.jsx(T,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ds,{className:"h-8 w-8 text-yellow-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:o.uptime}),n.jsx("p",{className:"text-sm text-gray-500",children:"System Uptime"})]})]})})})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(ss,{className:"mr-2 h-5 w-5"}),"General Settings"]})}),n.jsxs(T,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Site Name"}),n.jsx(ee,{value:e.siteName,onChange:e=>p("siteName",e.target.value),placeholder:"Enter site name..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Support Email"}),n.jsx(ee,{type:"email",value:e.supportEmail,onChange:e=>p("supportEmail",e.target.value),placeholder:"support@example.com"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium flex items-center",children:[e.maintenanceMode?n.jsx(we,{className:"h-4 w-4 mr-2 text-red-500"}):n.jsx(Ge,{className:"h-4 w-4 mr-2 text-green-500"}),"Maintenance Mode"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Enable to show maintenance page to users"})]}),n.jsx(bs,{checked:e.maintenanceMode,onCheckedChange:e=>p("maintenanceMode",e)})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium flex items-center",children:[n.jsx(H,{className:"h-4 w-4 mr-2 text-blue-500"}),"Allow Registration"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Allow new users to register"})]}),n.jsx(bs,{checked:e.allowRegistration,onCheckedChange:e=>p("allowRegistration",e)})]})]})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(P,{className:"mr-2 h-5 w-5"}),"Email & Notifications"]})}),n.jsx(T,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium flex items-center",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2 text-blue-500"}),"Email Notifications"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Send system notifications via email"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(E,{onClick:f,variant:"outline",size:"sm",children:"Test"}),n.jsx(bs,{checked:e.emailNotifications,onCheckedChange:e=>p("emailNotifications",e)})]})]})})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(Q,{className:"mr-2 h-5 w-5"}),"Security Settings"]})}),n.jsxs(T,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max File Size (MB)"}),n.jsxs(I,{value:e.maxFileSize.toString(),onValueChange:e=>p("maxFileSize",parseInt(e)),children:[n.jsx(O,{children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"5",children:"5 MB"}),n.jsx(q,{value:"10",children:"10 MB"}),n.jsx(q,{value:"25",children:"25 MB"}),n.jsx(q,{value:"50",children:"50 MB"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Session Timeout (minutes)"}),n.jsxs(I,{value:e.sessionTimeout.toString(),onValueChange:e=>p("sessionTimeout",parseInt(e)),children:[n.jsx(O,{children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"30",children:"30 minutes"}),n.jsx(q,{value:"60",children:"1 hour"}),n.jsx(q,{value:"120",children:"2 hours"}),n.jsx(q,{value:"240",children:"4 hours"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2 text-purple-500"}),"Two-Factor Authentication"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for admin accounts"})]}),n.jsx(bs,{checked:e.twoFactorRequired,onCheckedChange:e=>p("twoFactorRequired",e)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password Min Length"}),n.jsxs(I,{value:e.passwordMinLength.toString(),onValueChange:e=>p("passwordMinLength",parseInt(e)),children:[n.jsx(O,{children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"6",children:"6 characters"}),n.jsx(q,{value:"8",children:"8 characters"}),n.jsx(q,{value:"10",children:"10 characters"}),n.jsx(q,{value:"12",children:"12 characters"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Allowed File Types"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.allowedFileTypes.map(e=>n.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[".",e]},e))})]})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(es,{className:"mr-2 h-5 w-5"}),"System Management"]})}),n.jsxs(T,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2 text-green-500"}),"Auto Backup"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Automatic database backups"})]}),n.jsx(bs,{checked:e.backupEnabled,onCheckedChange:e=>p("backupEnabled",e)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backup Frequency"}),n.jsxs(I,{value:e.autoBackupInterval,onValueChange:e=>p("autoBackupInterval",e),children:[n.jsx(O,{children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"hourly",children:"Hourly"}),n.jsx(q,{value:"daily",children:"Daily"}),n.jsx(q,{value:"weekly",children:"Weekly"}),n.jsx(q,{value:"monthly",children:"Monthly"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Last Backup"}),n.jsx("span",{className:"text-sm text-gray-600",children:c})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Last System Restart"}),n.jsx("span",{className:"text-sm text-gray-600",children:o.lastRestart})]})]})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(Pe,{className:"mr-2 h-5 w-5"}),"System Health Monitor"]})}),n.jsx(T,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(e.systemHealth).map(([e,s])=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[g(s),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium capitalize",children:e.replace("_"," ")}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx(E,{onClick:()=>j(e,"healthy"),variant:"outline",size:"sm",className:"healthy"===s?"bg-green-50 text-green-700":"",children:"Healthy"}),n.jsx(E,{onClick:()=>j(e,"warning"),variant:"outline",size:"sm",className:"warning"===s?"bg-yellow-50 text-yellow-700":"",children:"Warning"}),n.jsx(E,{onClick:()=>j(e,"error"),variant:"outline",size:"sm",className:"error"===s?"bg-red-50 text-red-700":"",children:"Error"})]})]})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v(s)}`,children:"healthy"===s?"Operational":"warning"===s?"Warning":"Error"})]},e))})})]})]})}t.forwardRef(({className:e,...s},t)=>n.jsx("caption",{ref:t,className:d("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption";const Fs=[{id:"dashboard",label:"Dashboard",icon:Be,description:"System Overview",color:"from-blue-500 to-blue-600"},{id:"users",label:"Users",icon:H,description:"User Management",color:"from-green-500 to-green-600"},{id:"claims",label:"Claims",icon:Z,description:"Claims Processing",color:"from-purple-500 to-purple-600"},{id:"quotes",label:"Quotes",icon:pe,description:"Quote Management",color:"from-blue-500 to-purple-600"},{id:"diaspora",label:"Diaspora",icon:X,description:"Diaspora Requests",color:"from-cyan-500 to-blue-600"},{id:"outsourcing",label:"Outsourcing",icon:be,description:"Outsourcing Requests",color:"from-amber-500 to-orange-600"},{id:"consultations",label:"Consultations",icon:Y,description:"Booking Management",color:"from-orange-500 to-orange-600"},{id:"payments",label:"Payments",icon:W,description:"Financial Overview",color:"from-emerald-500 to-emerald-600"},{id:"notifications",label:"Notifications",icon:Ue,description:"System Alerts",color:"from-red-500 to-red-600"},{id:"analytics",label:"Analytics",icon:fe,description:"Data Insights",color:"from-indigo-500 to-indigo-600"},{id:"settings",label:"Settings",icon:ss,description:"System Config",color:"from-slate-500 to-slate-600"}];function Is({activeTab:e,setActiveTab:s,isOpen:a,toggleSidebar:l}){const[r,i]=t.useState(null);return n.jsxs(n.Fragment,{children:[a&&n.jsx("div",{className:"fixed inset-0 z-40 bg-black/30 backdrop-blur-sm lg:hidden animate-in fade-in duration-300",onClick:l}),n.jsxs("div",{className:`\n        fixed inset-y-0 left-0 z-50 w-72 \n        bg-white/95 backdrop-blur-xl border-r border-white/20\n        shadow-2xl shadow-blue-500/10\n        transform transition-all duration-500 ease-out\n        lg:translate-x-0 lg:static lg:inset-0\n        before:absolute before:inset-0 before:bg-gradient-to-b before:from-white/50 before:to-white/30 before:pointer-events-none\n        ${a?"translate-x-0":"-translate-x-full"}\n      `,children:[n.jsxs("div",{className:"relative flex items-center justify-between h-20 px-6 border-b border-white/10 bg-gradient-to-r from-blue-600/5 to-purple-600/5",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx(Ie,{className:"h-5 w-5 text-white"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:n.jsx(ts,{className:"h-2.5 w-2.5 text-white"})})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Admin Panel"}),n.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Enterprise Suite"})]})]}),n.jsx(E,{variant:"ghost",size:"sm",onClick:l,className:"lg:hidden hover:bg-white/20 rounded-xl p-2 transition-all duration-200",children:n.jsx(x,{className:"h-5 w-5 text-slate-600"})})]}),n.jsx("nav",{className:"flex-1 px-4 py-8 space-y-3 overflow-y-auto",children:Fs.map((t,a)=>{const l=t.icon,c=e===t.id,d=r===t.id;return n.jsxs("button",{onClick:()=>s(t.id),onMouseEnter:()=>i(t.id),onMouseLeave:()=>i(null),className:`\n                  group relative w-full flex items-center px-4 py-4 text-sm font-semibold rounded-2xl \n                  transition-all duration-300 ease-out transform\n                  ${c?"bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 shadow-lg shadow-blue-500/20 scale-105 translate-x-1":d?"bg-white/60 text-slate-700 shadow-md shadow-slate-500/10 scale-102 translate-x-0.5":"text-slate-600 hover:bg-white/40"}\n                `,style:{animationDelay:50*a+"ms"},children:[n.jsxs("div",{className:`\n                  relative mr-4 p-2 rounded-xl transition-all duration-300\n                  ${c?`bg-gradient-to-br ${t.color} shadow-lg shadow-blue-500/25`:d?`bg-gradient-to-br ${t.color} shadow-md shadow-slate-500/20`:"bg-slate-100 group-hover:bg-slate-200"}\n                `,children:[n.jsx(l,{className:"h-5 w-5 transition-all duration-300 "+(c||d?"text-white":"text-slate-600")}),c&&n.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-blue-400/20 to-purple-400/20 animate-pulse"})]}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("div",{className:"font-semibold",children:t.label}),n.jsx("div",{className:"text-xs opacity-70 font-normal",children:t.description})]}),d&&!c&&n.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse"}),c&&n.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full shadow-lg"}),n.jsx("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",children:n.jsx("div",{className:"\n                    absolute inset-0 bg-gradient-to-r from-blue-400/0 to-purple-400/0 \n                    group-active:from-blue-400/20 group-active:to-purple-400/20\n                    transition-all duration-200\n                  "})})]},t.id)})}),n.jsxs("div",{className:"relative p-6 border-t border-white/10 bg-gradient-to-r from-slate-50/50 to-blue-50/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-xs font-medium text-slate-600",children:"System Secure"})]}),n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),n.jsx("div",{className:"text-xs text-slate-500 font-medium mb-1",children:"Galloways Admin Suite v2.0"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Enterprise Edition"}),n.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full shadow-lg animate-pulse"})]}),n.jsx("div",{className:"absolute top-20 left-0 w-full h-32 bg-gradient-to-b from-blue-500/5 to-transparent pointer-events-none"}),n.jsx("div",{className:"absolute bottom-20 left-0 w-full h-32 bg-gradient-to-t from-purple-500/5 to-transparent pointer-events-none"})]})]})}var Os=["Enter"," "],zs=["ArrowUp","PageDown","End"],$s=["ArrowDown","PageUp","Home",...zs],qs={ltr:[...Os,"ArrowRight"],rtl:[...Os,"ArrowLeft"]},Vs={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bs="Menu",[Gs,Ks,Hs]=h(Bs),[Qs,Ws]=s(Bs,[Hs,u,Re]),Js=u(),Zs=Re(),[Xs,Ys]=Qs(Bs),[et,st]=Qs(Bs),tt=e=>{const{__scopeMenu:s,open:a=!1,children:l,dir:r,onOpenChange:i,modal:c=!0}=e,d=Js(s),[o,m]=t.useState(null),x=t.useRef(!1),h=v(i),u=Ce(r);return t.useEffect(()=>{const e=()=>{x.current=!0,document.addEventListener("pointerdown",s,{capture:!0,once:!0}),document.addEventListener("pointermove",s,{capture:!0,once:!0})},s=()=>x.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",s,{capture:!0}),document.removeEventListener("pointermove",s,{capture:!0})}},[]),n.jsx(w,{...d,children:n.jsx(Xs,{scope:s,open:a,onOpenChange:h,content:o,onContentChange:m,children:n.jsx(et,{scope:s,onClose:t.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:x,dir:u,modal:c,children:l})})})};tt.displayName=Bs;var at=t.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e,l=Js(t);return n.jsx(p,{...l,...a,ref:s})});at.displayName="MenuAnchor";var lt="MenuPortal",[nt,rt]=Qs(lt,{forceMount:void 0}),it=e=>{const{__scopeMenu:s,forceMount:t,children:a,container:l}=e,r=Ys(lt,s);return n.jsx(nt,{scope:s,forceMount:t,children:n.jsx(j,{present:t||r.open,children:n.jsx(C,{asChild:!0,container:l,children:a})})})};it.displayName=lt;var ct="MenuContent",[dt,ot]=Qs(ct),mt=t.forwardRef((e,s)=>{const t=rt(ct,e.__scopeMenu),{forceMount:a=t.forceMount,...l}=e,r=Ys(ct,e.__scopeMenu),i=st(ct,e.__scopeMenu);return n.jsx(Gs.Provider,{scope:e.__scopeMenu,children:n.jsx(j,{present:a||r.open,children:n.jsx(Gs.Slot,{scope:e.__scopeMenu,children:i.modal?n.jsx(xt,{...l,ref:s}):n.jsx(ht,{...l,ref:s})})})})}),xt=t.forwardRef((e,s)=>{const l=Ys(ct,e.__scopeMenu),r=t.useRef(null),c=a(s,r);return t.useEffect(()=>{const e=r.current;if(e)return ke(e)},[]),n.jsx(pt,{...e,ref:c,trapFocus:l.open,disableOutsidePointerEvents:l.open,disableOutsideScroll:!0,onFocusOutside:i(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>l.onOpenChange(!1)})}),ht=t.forwardRef((e,s)=>{const t=Ys(ct,e.__scopeMenu);return n.jsx(pt,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),ut=k("MenuContent.ScrollLock"),pt=t.forwardRef((e,s)=>{const{__scopeMenu:l,loop:r=!1,trapFocus:c,onOpenAutoFocus:d,onCloseAutoFocus:o,disableOutsidePointerEvents:m,onEntryFocus:x,onEscapeKeyDown:h,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:j,onDismiss:v,disableOutsideScroll:N,...y}=e,b=Ys(ct,l),w=st(ct,l),C=Js(l),k=Zs(l),S=Ks(l),[M,D]=t.useState(null),R=t.useRef(null),T=a(s,R,b.onContentChange),E=t.useRef(0),A=t.useRef(""),_=t.useRef(0),P=t.useRef(null),L=t.useRef("right"),U=t.useRef(0),F=N?De:t.Fragment,I=N?{as:ut,allowPinchZoom:!0}:void 0,O=e=>{var s,t;const a=A.current+e,l=S().filter(e=>!e.disabled),n=document.activeElement,r=null==(s=l.find(e=>e.ref.current===n))?void 0:s.textValue,i=function(e,s,t){const a=s.length>1&&Array.from(s).every(e=>e===s[0]),l=a?s[0]:s,n=t?e.indexOf(t):-1;let r=(i=e,c=Math.max(n,0),i.map((e,s)=>i[(c+s)%i.length]));var i,c;1===l.length&&(r=r.filter(e=>e!==t));const d=r.find(e=>e.toLowerCase().startsWith(l.toLowerCase()));return d!==t?d:void 0}(l.map(e=>e.textValue),a,r),c=null==(t=l.find(e=>e.textValue===i))?void 0:t.ref.current;!function e(s){A.current=s,window.clearTimeout(E.current),""!==s&&(E.current=window.setTimeout(()=>e(""),1e3))}(a),c&&setTimeout(()=>c.focus())};t.useEffect(()=>()=>window.clearTimeout(E.current),[]),Se();const z=t.useCallback(e=>{var s,t;return L.current===(null==(s=P.current)?void 0:s.side)&&function(e,s){if(!s)return!1;const t={x:e.clientX,y:e.clientY};return function(e,s){const{x:t,y:a}=e;let l=!1;for(let n=0,r=s.length-1;n<s.length;r=n++){const e=s[n],i=s[r],c=e.x,d=e.y,o=i.x,m=i.y;d>a!=m>a&&t<(o-c)*(a-d)/(m-d)+c&&(l=!l)}return l}(t,s)}(e,null==(t=P.current)?void 0:t.area)},[]);return n.jsx(dt,{scope:l,searchRef:A,onItemEnter:t.useCallback(e=>{z(e)&&e.preventDefault()},[z]),onItemLeave:t.useCallback(e=>{var s;z(e)||(null==(s=R.current)||s.focus(),D(null))},[z]),onTriggerLeave:t.useCallback(e=>{z(e)&&e.preventDefault()},[z]),pointerGraceTimerRef:_,onPointerGraceIntentChange:t.useCallback(e=>{P.current=e},[]),children:n.jsx(F,{...I,children:n.jsx(Me,{asChild:!0,trapped:c,onMountAutoFocus:i(d,e=>{var s;e.preventDefault(),null==(s=R.current)||s.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(f,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:h,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:j,onDismiss:v,children:n.jsx(Te,{asChild:!0,...k,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:D,onEntryFocus:i(x,e=>{w.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(g,{role:"menu","aria-orientation":"vertical","data-state":$t(b.open),"data-radix-menu-content":"",dir:w.dir,...C,...y,ref:T,style:{outline:"none",...y.style},onKeyDown:i(y.onKeyDown,e=>{const s=e.target.closest("[data-radix-menu-content]")===e.currentTarget,t=e.ctrlKey||e.altKey||e.metaKey,a=1===e.key.length;s&&("Tab"===e.key&&e.preventDefault(),!t&&a&&O(e.key));const l=R.current;if(e.target!==l)return;if(!$s.includes(e.key))return;e.preventDefault();const n=S().filter(e=>!e.disabled).map(e=>e.ref.current);zs.includes(e.key)&&n.reverse(),function(e){const s=document.activeElement;for(const t of e){if(t===s)return;if(t.focus(),document.activeElement!==s)return}}(n)}),onBlur:i(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),A.current="")}),onPointerMove:i(e.onPointerMove,Bt(e=>{const s=e.target,t=U.current!==e.clientX;if(e.currentTarget.contains(s)&&t){const s=e.clientX>U.current?"right":"left";L.current=s,U.current=e.clientX}}))})})})})})})});mt.displayName=ct;var jt=t.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e;return n.jsx(r.div,{role:"group",...a,ref:s})});jt.displayName="MenuGroup";var ft=t.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e;return n.jsx(r.div,{...a,ref:s})});ft.displayName="MenuLabel";var gt="MenuItem",vt="menu.itemSelect",Nt=t.forwardRef((e,s)=>{const{disabled:l=!1,onSelect:r,...c}=e,d=t.useRef(null),o=st(gt,e.__scopeMenu),m=ot(gt,e.__scopeMenu),x=a(s,d),h=t.useRef(!1);return n.jsx(yt,{...c,ref:x,disabled:l,onClick:i(e.onClick,()=>{const e=d.current;if(!l&&e){const s=new CustomEvent(vt,{bubbles:!0,cancelable:!0});e.addEventListener(vt,e=>null==r?void 0:r(e),{once:!0}),b(e,s),s.defaultPrevented?h.current=!1:o.onClose()}}),onPointerDown:s=>{var t;null==(t=e.onPointerDown)||t.call(e,s),h.current=!0},onPointerUp:i(e.onPointerUp,e=>{var s;h.current||null==(s=e.currentTarget)||s.click()}),onKeyDown:i(e.onKeyDown,e=>{const s=""!==m.searchRef.current;l||s&&" "===e.key||Os.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});Nt.displayName=gt;var yt=t.forwardRef((e,s)=>{const{__scopeMenu:l,disabled:c=!1,textValue:d,...o}=e,m=ot(gt,l),x=Zs(l),h=t.useRef(null),u=a(s,h),[p,j]=t.useState(!1),[f,g]=t.useState("");return t.useEffect(()=>{const e=h.current;e&&g((e.textContent??"").trim())},[o.children]),n.jsx(Gs.ItemSlot,{scope:l,disabled:c,textValue:d??f,children:n.jsx(Ee,{asChild:!0,...x,focusable:!c,children:n.jsx(r.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":c||void 0,"data-disabled":c?"":void 0,...o,ref:u,onPointerMove:i(e.onPointerMove,Bt(e=>{if(c)m.onItemLeave(e);else if(m.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:i(e.onPointerLeave,Bt(e=>m.onItemLeave(e))),onFocus:i(e.onFocus,()=>j(!0)),onBlur:i(e.onBlur,()=>j(!1))})})})}),bt=t.forwardRef((e,s)=>{const{checked:t=!1,onCheckedChange:a,...l}=e;return n.jsx(Tt,{scope:e.__scopeMenu,checked:t,children:n.jsx(Nt,{role:"menuitemcheckbox","aria-checked":qt(t)?"mixed":t,...l,ref:s,"data-state":Vt(t),onSelect:i(l.onSelect,()=>null==a?void 0:a(!!qt(t)||!t),{checkForDefaultPrevented:!1})})})});bt.displayName="MenuCheckboxItem";var wt="MenuRadioGroup",[Ct,kt]=Qs(wt,{value:void 0,onValueChange:()=>{}}),St=t.forwardRef((e,s)=>{const{value:t,onValueChange:a,...l}=e,r=v(a);return n.jsx(Ct,{scope:e.__scopeMenu,value:t,onValueChange:r,children:n.jsx(jt,{...l,ref:s})})});St.displayName=wt;var Mt="MenuRadioItem",Dt=t.forwardRef((e,s)=>{const{value:t,...a}=e,l=kt(Mt,e.__scopeMenu),r=t===l.value;return n.jsx(Tt,{scope:e.__scopeMenu,checked:r,children:n.jsx(Nt,{role:"menuitemradio","aria-checked":r,...a,ref:s,"data-state":Vt(r),onSelect:i(a.onSelect,()=>{var e;return null==(e=l.onValueChange)?void 0:e.call(l,t)},{checkForDefaultPrevented:!1})})})});Dt.displayName=Mt;var Rt="MenuItemIndicator",[Tt,Et]=Qs(Rt,{checked:!1}),At=t.forwardRef((e,s)=>{const{__scopeMenu:t,forceMount:a,...l}=e,i=Et(Rt,t);return n.jsx(j,{present:a||qt(i.checked)||!0===i.checked,children:n.jsx(r.span,{...l,ref:s,"data-state":Vt(i.checked)})})});At.displayName=Rt;var _t=t.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e;return n.jsx(r.div,{role:"separator","aria-orientation":"horizontal",...a,ref:s})});_t.displayName="MenuSeparator";var Pt=t.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e,l=Js(t);return n.jsx(N,{...l,...a,ref:s})});Pt.displayName="MenuArrow";var[Lt,Ut]=Qs("MenuSub"),Ft="MenuSubTrigger",It=t.forwardRef((e,s)=>{const a=Ys(Ft,e.__scopeMenu),l=st(Ft,e.__scopeMenu),r=Ut(Ft,e.__scopeMenu),c=ot(Ft,e.__scopeMenu),d=t.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:m}=c,x={__scopeMenu:e.__scopeMenu},h=t.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return t.useEffect(()=>h,[h]),t.useEffect(()=>{const e=o.current;return()=>{window.clearTimeout(e),m(null)}},[o,m]),n.jsx(at,{asChild:!0,...x,children:n.jsx(yt,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":r.contentId,"data-state":$t(a.open),...e,ref:y(s,r.onTriggerChange),onClick:s=>{var t;null==(t=e.onClick)||t.call(e,s),e.disabled||s.defaultPrevented||(s.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:i(e.onPointerMove,Bt(s=>{c.onItemEnter(s),s.defaultPrevented||e.disabled||a.open||d.current||(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{a.onOpenChange(!0),h()},100))})),onPointerLeave:i(e.onPointerLeave,Bt(e=>{var s,t;h();const l=null==(s=a.content)?void 0:s.getBoundingClientRect();if(l){const s=null==(t=a.content)?void 0:t.dataset.side,n="right"===s,r=n?-5:5,i=l[n?"left":"right"],d=l[n?"right":"left"];c.onPointerGraceIntentChange({area:[{x:e.clientX+r,y:e.clientY},{x:i,y:l.top},{x:d,y:l.top},{x:d,y:l.bottom},{x:i,y:l.bottom}],side:s}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(e),e.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:i(e.onKeyDown,s=>{var t;const n=""!==c.searchRef.current;e.disabled||n&&" "===s.key||qs[l.dir].includes(s.key)&&(a.onOpenChange(!0),null==(t=a.content)||t.focus(),s.preventDefault())})})})});It.displayName=Ft;var Ot="MenuSubContent",zt=t.forwardRef((e,s)=>{const l=rt(ct,e.__scopeMenu),{forceMount:r=l.forceMount,...c}=e,d=Ys(ct,e.__scopeMenu),o=st(ct,e.__scopeMenu),m=Ut(Ot,e.__scopeMenu),x=t.useRef(null),h=a(s,x);return n.jsx(Gs.Provider,{scope:e.__scopeMenu,children:n.jsx(j,{present:r||d.open,children:n.jsx(Gs.Slot,{scope:e.__scopeMenu,children:n.jsx(pt,{id:m.contentId,"aria-labelledby":m.triggerId,...c,ref:h,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var s;o.isUsingKeyboardRef.current&&(null==(s=x.current)||s.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:i(e.onFocusOutside,e=>{e.target!==m.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:i(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:i(e.onKeyDown,e=>{var s;const t=e.currentTarget.contains(e.target),a=Vs[o.dir].includes(e.key);t&&a&&(d.onOpenChange(!1),null==(s=m.trigger)||s.focus(),e.preventDefault())})})})})})});function $t(e){return e?"open":"closed"}function qt(e){return"indeterminate"===e}function Vt(e){return qt(e)?"indeterminate":e?"checked":"unchecked"}function Bt(e){return s=>"mouse"===s.pointerType?e(s):void 0}zt.displayName=Ot;var Gt=tt,Kt=at,Ht=it,Qt=mt,Wt=jt,Jt=ft,Zt=Nt,Xt=bt,Yt=St,ea=Dt,sa=At,ta=_t,aa=Pt,la=It,na=zt,ra="DropdownMenu",[ia,ca]=s(ra,[Ws]),da=Ws(),[oa,ma]=ia(ra),xa=e=>{const{__scopeDropdownMenu:s,children:a,dir:r,open:i,defaultOpen:c,onOpenChange:d,modal:o=!0}=e,m=da(s),x=t.useRef(null),[h,u]=l({prop:i,defaultProp:c??!1,onChange:d,caller:ra});return n.jsx(oa,{scope:s,triggerId:Ae(),triggerRef:x,contentId:Ae(),open:h,onOpenChange:u,onOpenToggle:t.useCallback(()=>u(e=>!e),[u]),modal:o,children:n.jsx(Gt,{...m,open:h,onOpenChange:u,dir:r,modal:o,children:a})})};xa.displayName=ra;var ha="DropdownMenuTrigger",ua=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,disabled:a=!1,...l}=e,c=ma(ha,t),d=da(t);return n.jsx(Kt,{asChild:!0,...d,children:n.jsx(r.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...l,ref:y(s,c.triggerRef),onPointerDown:i(e.onPointerDown,e=>{a||0!==e.button||!1!==e.ctrlKey||(c.onOpenToggle(),c.open||e.preventDefault())}),onKeyDown:i(e.onKeyDown,e=>{a||(["Enter"," "].includes(e.key)&&c.onOpenToggle(),"ArrowDown"===e.key&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});ua.displayName=ha;var pa=e=>{const{__scopeDropdownMenu:s,...t}=e,a=da(s);return n.jsx(Ht,{...a,...t})};pa.displayName="DropdownMenuPortal";var ja="DropdownMenuContent",fa=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:a,...l}=e,r=ma(ja,a),c=da(a),d=t.useRef(!1);return n.jsx(Qt,{id:r.contentId,"aria-labelledby":r.triggerId,...c,...l,ref:s,onCloseAutoFocus:i(e.onCloseAutoFocus,e=>{var s;d.current||null==(s=r.triggerRef.current)||s.focus(),d.current=!1,e.preventDefault()}),onInteractOutside:i(e.onInteractOutside,e=>{const s=e.detail.originalEvent,t=0===s.button&&!0===s.ctrlKey,a=2===s.button||t;r.modal&&!a||(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fa.displayName=ja;t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(Wt,{...l,...a,ref:s})}).displayName="DropdownMenuGroup";var ga=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(Jt,{...l,...a,ref:s})});ga.displayName="DropdownMenuLabel";var va=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(Zt,{...l,...a,ref:s})});va.displayName="DropdownMenuItem";var Na=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(Xt,{...l,...a,ref:s})});Na.displayName="DropdownMenuCheckboxItem";t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(Yt,{...l,...a,ref:s})}).displayName="DropdownMenuRadioGroup";var ya=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(ea,{...l,...a,ref:s})});ya.displayName="DropdownMenuRadioItem";var ba=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(sa,{...l,...a,ref:s})});ba.displayName="DropdownMenuItemIndicator";var wa=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(ta,{...l,...a,ref:s})});wa.displayName="DropdownMenuSeparator";t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(aa,{...l,...a,ref:s})}).displayName="DropdownMenuArrow";var Ca=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(la,{...l,...a,ref:s})});Ca.displayName="DropdownMenuSubTrigger";var ka=t.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,l=da(t);return n.jsx(na,{...l,...a,ref:s,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ka.displayName="DropdownMenuSubContent";var Sa=pa,Ma=fa,Da=ga,Ra=va,Ta=Na,Ea=ya,Aa=ba,_a=wa,Pa=Ca,La=ka;const Ua=xa,Fa=ua;t.forwardRef(({className:e,inset:s,children:t,...a},l)=>n.jsxs(Pa,{ref:l,className:d("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...a,children:[t,n.jsx(ge,{className:"ml-auto h-4 w-4"})]})).displayName=Pa.displayName;t.forwardRef(({className:e,...s},t)=>n.jsx(La,{ref:t,className:d("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=La.displayName;const Ia=t.forwardRef(({className:e,sideOffset:s=4,...t},a)=>n.jsx(Sa,{children:n.jsx(Ma,{ref:a,sideOffset:s,className:d("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Ia.displayName=Ma.displayName;const Oa=t.forwardRef(({className:e,inset:s,...t},a)=>n.jsx(Ra,{ref:a,className:d("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...t}));Oa.displayName=Ra.displayName;t.forwardRef(({className:e,children:s,checked:t,...a},l)=>n.jsxs(Ta,{ref:l,className:d("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Aa,{children:n.jsx(V,{className:"h-4 w-4"})})}),s]})).displayName=Ta.displayName;t.forwardRef(({className:e,children:s,...t},a)=>n.jsxs(Ea,{ref:a,className:d("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Aa,{children:n.jsx(_e,{className:"h-2 w-2 fill-current"})})}),s]})).displayName=Ea.displayName;t.forwardRef(({className:e,inset:s,...t},a)=>n.jsx(Da,{ref:a,className:d("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...t})).displayName=Da.displayName;const za=t.forwardRef(({className:e,...s},t)=>n.jsx(_a,{ref:t,className:d("-mx-1 my-1 h-px bg-muted",e),...s}));function $a({toggleSidebar:e}){const[s,a]=t.useState(""),[l,r]=t.useState(!1);t.useEffect(()=>{const e=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches,t="dark"===e||!e&&s;r(t),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const[i,c]=t.useState(!1),[d,o]=t.useState([]),[x,h]=t.useState({status:"operational",uptime:"99.9%",activeUsers:0}),u=d.filter(e=>e.unread).length;t.useEffect(()=>{(async()=>{var e;try{const s=await void 0,t=((null==(e=s.data)?void 0:e.notifications)||[]).slice(0,5).map((e,s)=>({id:e.id||s,title:e.title||e.message||"New notification",time:e.createdAt?new Date(e.createdAt).toLocaleDateString():"Recent",unread:!1!==e.unread}));o(t)}catch(s){o([])}})(),(async()=>{try{const e=(await void 0).data||{};h(s=>({...s,activeUsers:e.totalUsers||0}))}catch(e){}})()},[]);const p=e=>{switch(e){case"refresh":m.success("System refreshed"),window.location.reload();break;case"export":m.success("Export initiated");break;case"settings":m.success("Opening settings");break;case"logout":m.success("Logging out...");break;default:m.success(`${e} executed`)}};return t.useEffect(()=>{const e=setInterval(()=>{h(e=>({...e,activeUsers:e.activeUsers+Math.floor(10*Math.random())-5}))},3e4);return()=>clearInterval(e)},[]),n.jsxs("header",{className:"relative bg-white/95 backdrop-blur-xl border-b border-white/20 shadow-lg shadow-blue-500/5",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/50 via-white to-purple-50/50 pointer-events-none"}),n.jsx("div",{className:"relative px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsx(E,{variant:"ghost",size:"sm",onClick:e,className:"lg:hidden hover:bg-blue-50 rounded-xl p-2 transition-all duration-200",children:n.jsx(L,{className:"h-5 w-5 text-slate-600"})}),n.jsxs("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&m.success(`Searching for: ${s}`)},className:"relative",children:[n.jsx(Ye,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),n.jsx(ee,{value:s,onChange:e=>a(e.target.value),placeholder:"Search users, claims, consultations...",className:"pl-11 pr-4 w-80 bg-white/60 border-white/20 rounded-xl \n                         focus:bg-white focus:border-blue-300 focus:ring-2 focus:ring-blue-100\n                         placeholder:text-slate-400 text-slate-700 font-medium\n                         transition-all duration-200"}),s&&n.jsx(E,{type:"submit",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-7 px-3 \n                           bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600\n                           text-white rounded-lg text-xs font-medium transition-all duration-200",children:"Search"})]}),n.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse "+("operational"===x.status?"bg-green-400":"bg-red-400")}),n.jsx("span",{className:"text-xs font-medium text-slate-600",children:"operational"===x.status?"All Systems Operational":"Issues Detected"})]}),n.jsxs(U,{variant:"secondary",className:"text-xs bg-blue-50 text-blue-700",children:[x.activeUsers," active"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>p("refresh"),className:"h-9 w-9 rounded-xl hover:bg-blue-50 text-slate-600 hover:text-blue-600 transition-all duration-200",title:"Refresh System",children:n.jsx(Ze,{className:"h-4 w-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>p("export"),className:"h-9 w-9 rounded-xl hover:bg-green-50 text-slate-600 hover:text-green-600 transition-all duration-200",title:"Export Data",children:n.jsx(K,{className:"h-4 w-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>{const e=!l;r(e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e?"dark":"light"),m.success(`Switched to ${e?"dark":"light"} mode`)},className:"h-9 w-9 rounded-xl hover:bg-yellow-50 text-slate-600 hover:text-yellow-600 transition-all duration-200",title:"Toggle Theme",children:l?n.jsx(ls,{className:"h-4 w-4"}):n.jsx(Qe,{className:"h-4 w-4"})}),n.jsx(E,{variant:"ghost",size:"sm",onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),c(!1),m.success("Exited fullscreen mode")):(document.documentElement.requestFullscreen(),c(!0),m.success("Entered fullscreen mode"))},className:"h-9 w-9 rounded-xl hover:bg-purple-50 text-slate-600 hover:text-purple-600 transition-all duration-200",title:"Toggle Fullscreen",children:i?n.jsx(He,{className:"h-4 w-4"}):n.jsx(Ke,{className:"h-4 w-4"})})]}),n.jsxs(Ua,{children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(E,{variant:"ghost",size:"sm",className:"relative h-10 w-10 rounded-xl hover:bg-red-50 text-slate-600 hover:text-red-600 transition-all duration-200",children:[n.jsx(Ue,{className:"h-5 w-5"}),u>0&&n.jsx(U,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center \n                               bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full\n                               animate-pulse shadow-lg",children:u})]})}),n.jsxs(Ia,{align:"end",className:"w-80 bg-white/95 backdrop-blur-xl border-white/20 shadow-xl",children:[n.jsxs("div",{className:"p-3 border-b border-slate-100",children:[n.jsx("h3",{className:"font-semibold text-slate-800",children:"Notifications"}),n.jsxs("p",{className:"text-xs text-slate-500",children:[u," unread messages"]})]}),d.map(e=>n.jsx(Oa,{className:"p-3 cursor-pointer hover:bg-blue-50",onClick:()=>{return s=e.id,void o(e=>e.map(e=>e.id===s?{...e,unread:!1}:e));var s},children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-2 h-2 rounded-full mt-2 "+(e.unread?"bg-blue-500":"bg-slate-300")}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800",children:e.title}),n.jsx("p",{className:"text-xs text-slate-500",children:e.time})]})]})},e.id)),n.jsx(Oa,{className:"p-3 text-center text-blue-600 hover:bg-blue-50 font-medium",children:"View All Notifications"})]})]}),n.jsxs(Ua,{children:[n.jsx(Fa,{asChild:!0,children:n.jsxs(E,{variant:"ghost",className:"flex items-center space-x-2 h-10 px-3 rounded-xl hover:bg-slate-50 transition-all duration-200",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:n.jsx(cs,{className:"h-4 w-4 text-white"})}),n.jsxs("div",{className:"hidden sm:block text-left",children:[n.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Admin User"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Super Admin"})]})]})}),n.jsxs(Ia,{align:"end",className:"w-56 bg-white/95 backdrop-blur-xl border-white/20 shadow-xl",children:[n.jsxs("div",{className:"p-3 border-b border-slate-100",children:[n.jsx("p",{className:"font-medium text-slate-800",children:"Admin User"}),n.jsx("p",{className:"text-sm text-slate-500",children:"admin@galloways.com"})]}),n.jsxs(Oa,{className:"flex items-center space-x-2 p-3 hover:bg-blue-50 cursor-pointer",onClick:()=>p("profile"),children:[n.jsx(cs,{className:"h-4 w-4"}),n.jsx("span",{children:"Profile Settings"})]}),n.jsxs(Oa,{className:"flex items-center space-x-2 p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>p("settings"),children:[n.jsx(ss,{className:"h-4 w-4"}),n.jsx("span",{children:"System Settings"})]}),n.jsxs(Oa,{className:"flex items-center space-x-2 p-3 hover:bg-green-50 cursor-pointer",children:[n.jsx(Pe,{className:"h-4 w-4"}),n.jsx("span",{children:"Activity Log"})]}),n.jsxs(Oa,{className:"flex items-center space-x-2 p-3 hover:bg-purple-50 cursor-pointer",children:[n.jsx(Q,{className:"h-4 w-4"}),n.jsx("span",{children:"Security"})]}),n.jsx(za,{}),n.jsxs(Oa,{className:"flex items-center space-x-2 p-3 hover:bg-red-50 text-red-600 cursor-pointer",onClick:()=>p("logout"),children:[n.jsx(ve,{className:"h-4 w-4"}),n.jsx("span",{children:"Sign Out"})]})]})]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-blue-200 to-transparent"})]})}function qa(){const[e,s]=t.useState([]),[a,l]=t.useState(!0),[r,i]=t.useState(!1),[c,d]=t.useState({title:"",message:"",type:"info"});t.useEffect(()=>{o()},[]);const o=async()=>{try{l(!0);const e=await void 0;e.success&&s(e.data.notifications)}catch(e){}finally{l(!1)}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ze,{className:"h-8 w-8 animate-spin text-blue-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),n.jsxs(E,{onClick:()=>i(!0),size:"sm",children:[n.jsx(Je,{className:"h-4 w-4 mr-2"}),"Create Notification"]})]}),r&&n.jsxs(M,{children:[n.jsx(D,{children:n.jsx(R,{children:"Create New Notification"})}),n.jsx(T,{children:n.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{(await void 0).success&&(d({title:"",message:"",type:"info"}),i(!1),o())}catch(s){}},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),n.jsx(ee,{value:c.title,onChange:e=>d({...c,title:e.target.value}),placeholder:"Notification title...",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Message"}),n.jsx(Ne,{value:c.message,onChange:e=>d({...c,message:e.target.value}),placeholder:"Notification message...",rows:3,required:!0})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{type:"submit",size:"sm",children:"Create"}),n.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:()=>i(!1),children:"Cancel"})]})]})})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(R,{children:"System Notifications"}),n.jsx(E,{onClick:o,variant:"outline",size:"sm",children:n.jsx(Ze,{className:"h-4 w-4"})})]})}),n.jsx(T,{children:n.jsxs(ks,{children:[n.jsx(Ss,{children:n.jsxs(Ds,{children:[n.jsx(Rs,{children:"Message"}),n.jsx(Rs,{children:"Type"}),n.jsx(Rs,{children:"Entity"}),n.jsx(Rs,{children:"Created"}),n.jsx(Rs,{children:"Actions"})]})}),n.jsx(Ms,{children:e.map(e=>n.jsxs(Ds,{children:[n.jsx(Ts,{className:"max-w-md",children:n.jsx("div",{className:"truncate",children:e.note})}),n.jsx(Ts,{children:n.jsx(U,{variant:"outline",children:e.entityType||"SYSTEM"})}),n.jsx(Ts,{children:e.entityId||"-"}),n.jsx(Ts,{children:new Date(e.createdAt).toLocaleDateString()}),n.jsx(Ts,{children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(E,{variant:"outline",size:"sm",onClick:()=>(async()=>{try{await void 0,o()}catch(e){}})(e.id),children:n.jsx(ze,{className:"h-4 w-4"})}),n.jsx(E,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:n.jsx(rs,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Total Notifications"}),n.jsx(Ue,{className:"h-4 w-4 text-blue-600"})]}),n.jsx(T,{children:n.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Recent"}),n.jsx(Ue,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:e.filter(e=>new Date(e.createdAt)>new Date((new Date).getTime()-864e5)).length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Last 24 hours"})]})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"System Health"}),n.jsx(Ue,{className:"h-4 w-4 text-purple-600"})]}),n.jsx(T,{children:n.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Healthy"})})]})]})]})}function Va(){var e,s,a,l,r,i,c,d;const[o,m]=t.useState(null),[x,h]=t.useState(!0),[u,p]=t.useState("30d");t.useEffect(()=>{j()},[u]);const j=async()=>{try{h(!0);const e=await api.console.log(u);e.success&&m(e.data)}catch(e){}finally{h(!1)}};return x?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ze,{className:"h-8 w-8 animate-spin text-blue-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(I,{value:u,onValueChange:p,children:[n.jsx(O,{className:"w-32",children:n.jsx(z,{})}),n.jsxs($,{children:[n.jsx(q,{value:"7d",children:"7 Days"}),n.jsx(q,{value:"30d",children:"30 Days"}),n.jsx(q,{value:"90d",children:"90 Days"})]})]}),n.jsx(E,{onClick:j,variant:"outline",size:"sm",children:n.jsx(Ze,{className:"h-4 w-4"})}),n.jsxs(E,{variant:"outline",size:"sm",children:[n.jsx(K,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"User Growth"}),n.jsx(H,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:(null==(e=null==o?void 0:o.userGrowth)?void 0:e.length)||0}),n.jsx("p",{className:"text-xs text-green-600",children:"+12% from last period"})]})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Payment Volume"}),n.jsx(W,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:(null==(s=null==o?void 0:o.paymentTrends)?void 0:s.length)||0}),n.jsx("p",{className:"text-xs text-green-600",children:"+8% from last period"})]})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Conversion Rate"}),n.jsx(J,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:"3.2%"}),n.jsx("p",{className:"text-xs text-green-600",children:"+0.5% from last period"})]})]}),n.jsxs(M,{children:[n.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(R,{className:"text-sm font-medium",children:"Active Period"}),n.jsx(Y,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:u}),n.jsx("p",{className:"text-xs text-gray-500",children:"Current analysis period"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(fe,{className:"mr-2 h-5 w-5"}),"User Growth Trend"]})}),n.jsx(T,{children:n.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed border-gray-200 rounded-lg",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(fe,{className:"mx-auto h-12 w-12 mb-2"}),n.jsx("p",{children:"Chart visualization would be here"}),n.jsxs("p",{className:"text-sm",children:["Data points: ",(null==(a=null==o?void 0:o.userGrowth)?void 0:a.length)||0]})]})})})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsxs(R,{className:"flex items-center",children:[n.jsx(J,{className:"mr-2 h-5 w-5"}),"Payment Trends"]})}),n.jsx(T,{children:n.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed border-gray-200 rounded-lg",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(J,{className:"mx-auto h-12 w-12 mb-2"}),n.jsx("p",{children:"Payment chart would be here"}),n.jsxs("p",{className:"text-sm",children:["Data points: ",(null==(l=null==o?void 0:o.paymentTrends)?void 0:l.length)||0]})]})})})]})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsx(R,{children:"Top Products"})}),n.jsx(T,{children:n.jsxs("div",{className:"space-y-4",children:[null==(r=null==o?void 0:o.topProducts)?void 0:r.slice(0,5).map((e,s)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:e.name}),n.jsx("p",{className:"text-sm text-gray-500",children:e.category})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-medium",children:["#",s+1]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Popular"})]})]},s)),(!(null==o?void 0:o.topProducts)||0===o.topProducts.length)&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No product data available for the selected period"})]})})]}),n.jsxs(M,{children:[n.jsx(D,{children:n.jsx(R,{children:"Period Summary"})}),n.jsx(T,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(null==(i=null==o?void 0:o.userGrowth)?void 0:i.length)||0}),n.jsx("div",{className:"text-sm text-blue-600",children:"New Users"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:(null==(c=null==o?void 0:o.paymentTrends)?void 0:c.length)||0}),n.jsx("div",{className:"text-sm text-green-600",children:"Transactions"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(null==(d=null==o?void 0:o.topProducts)?void 0:d.length)||0}),n.jsx("div",{className:"text-sm text-purple-600",children:"Active Products"})]})]})})]})]})}function Ba(){const[e,s]=t.useState("dashboard"),[a,l]=t.useState(!0),[r,i]=t.useState(!1);t.useEffect(()=>{localStorage.setItem("admin_token","admin-access-token")},[]);return n.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-purple-600/5 to-indigo-600/5 pointer-events-none"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-100/20 via-transparent to-transparent pointer-events-none"}),n.jsx(Is,{activeTab:e,setActiveTab:t=>{t!==e&&(i(!0),setTimeout(()=>{s(t),i(!1)},150))},isOpen:a,toggleSidebar:()=>l(!a)}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[n.jsx($a,{toggleSidebar:()=>l(!a)}),n.jsxs("main",{className:`\n          flex-1 overflow-auto p-6 relative\n          transition-all duration-300 ease-in-out\n          ${r?"opacity-60 scale-98":"opacity-100 scale-100"}\n        `,children:[n.jsx("div",{className:"relative z-10 h-full",children:(()=>{switch(e){case"dashboard":default:return n.jsx(ws,{});case"users":return n.jsx(Es,{});case"claims":return n.jsx(Cs,{});case"consultations":return n.jsx(Ps,{});case"payments":return n.jsx(_s,{});case"notifications":return n.jsx(qa,{});case"analytics":return n.jsx(Va,{});case"settings":return n.jsx(Us,{});case"quotes":return n.jsx(As,{});case"diaspora":return n.jsx(Ls,{})}})()}),n.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-blue-400/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-purple-400/10 rounded-full blur-3xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute top-1/3 right-1/4 w-24 h-24 bg-indigo-400/10 rounded-full blur-2xl animate-pulse delay-500"})]})]}),r&&n.jsx("div",{className:"absolute inset-0 bg-white/30 backdrop-blur-sm z-50 flex items-center justify-center pointer-events-none",children:n.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}),n.jsx(S,{position:"top-right",richColors:!0,closeButton:!0,theme:"light",className:"z-[9999]",toastOptions:{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.1)"}}})]})}za.displayName=_a.displayName;export{Ba as default};
