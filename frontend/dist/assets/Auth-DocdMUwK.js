import{c as s,r as e,i as a,u as r,j as l}from"./index-CzeFNnHZ.js";import{o as i,s as n,u as c,a as o,F as t,b as d,c as m,d as x,e as j,f as h}from"./form-CVTL3PRu.js";import{B as u}from"./button-B1gK8GYg.js";import{I as p}from"./label-DoQQNl_e.js";import{C as f,a as w,b as g,d as y}from"./card-D6h7EkQC.js";import{T as N,a as b,b as v,c as P}from"./tabs-DIjhGCtY.js";import{H as S,F as I}from"./Footer-By6EFdN-.js";import{U as E}from"./user-plus-xZXOz7ml.js";import{L as A}from"./lock-0OJ3cs6N.js";import"./index-__A-sPrC.js";import"./index-S_eeaI2i.js";import"./index-bDmxw3cC.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=s("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),C=i({email:n().email("Invalid email address"),password:n().min(6,"Password must be at least 6 characters")}),F=i({fullName:n().min(2,"Full name must be at least 2 characters"),email:n().email("Invalid email address"),password:n().min(6,"Password must be at least 6 characters"),confirmPassword:n().min(6,"Password confirmation is required")}).refine(s=>s.password===s.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),D=()=>{const[s,i]=e.useState(!1),n=a(),{toast:D}=r(),L=c({resolver:o(C),defaultValues:{email:"",password:""}}),M=c({resolver:o(F),defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}});e.useEffect(()=>{localStorage.getItem("auth_token")&&n("/")},[n]);return l.jsxs("div",{className:"h-screen bg-background",children:[l.jsx(S,{}),l.jsx("main",{className:"container mx-auto px-4 py-12",children:l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs(f,{className:"shadow-lg",children:[l.jsxs(w,{className:"text-center",children:[l.jsx(g,{className:"text-2xl font-bold text-primary",children:"Welcome to Galloways"}),l.jsx("p",{className:"text-muted-foreground",children:"Access your insurance portal"})]}),l.jsx(y,{children:l.jsxs(N,{defaultValue:"signin",className:"w-full",children:[l.jsxs(b,{className:"grid w-full grid-cols-2",children:[l.jsxs(v,{value:"signin",className:"flex items-center gap-2",children:[l.jsx(k,{className:"w-4 h-4"}),"Sign In"]}),l.jsxs(v,{value:"signup",className:"flex items-center gap-2",children:[l.jsx(E,{className:"w-4 h-4"}),"Sign Up"]})]}),l.jsx(P,{value:"signin",className:"mt-6",children:l.jsx(t,{...L,children:l.jsxs("form",{onSubmit:L.handleSubmit(async s=>{var e,a;i(!0);try{const s=await void 0;if(!s.success)throw new Error("Authentication failed");D({title:"Success",description:"Signed in successfully!"}),"ADMIN"===(null==(e=s.user)?void 0:e.role)||"SUPER_ADMIN"===(null==(a=s.user)?void 0:a.role)?n("/admin"):n("/")}catch(r){D({title:"Error",description:r.message||"Authentication failed",variant:"destructive"})}finally{i(!1)}}),className:"space-y-4",children:[l.jsx(d,{control:L.control,name:"email",render:({field:s})=>l.jsxs(m,{children:[l.jsx(x,{children:"Email"}),l.jsx(j,{children:l.jsx(p,{type:"email",placeholder:"your.email@example.com",...s})}),l.jsx(h,{})]})}),l.jsx(d,{control:L.control,name:"password",render:({field:s})=>l.jsxs(m,{children:[l.jsx(x,{children:"Password"}),l.jsx(j,{children:l.jsx(p,{type:"password",placeholder:"Enter your password",...s})}),l.jsx(h,{})]})}),l.jsxs(u,{type:"submit",className:"w-full bg-accent hover:bg-accent/90",disabled:s,children:[l.jsx(A,{className:"w-4 h-4 mr-2"}),s?"Signing in...":"Sign In"]})]})})}),l.jsx(P,{value:"signup",className:"mt-6",children:l.jsx(t,{...M,children:l.jsxs("form",{onSubmit:M.handleSubmit(async s=>{i(!0);try{await void 0,D({title:"Success",description:"Account created successfully! Please sign in."}),M.reset()}catch(e){D({title:"Error",description:e.message||"Registration failed",variant:"destructive"})}finally{i(!1)}}),className:"space-y-4",children:[l.jsx(d,{control:M.control,name:"fullName",render:({field:s})=>l.jsxs(m,{children:[l.jsx(x,{children:"Full Name"}),l.jsx(j,{children:l.jsx(p,{placeholder:"John Doe",...s})}),l.jsx(h,{})]})}),l.jsx(d,{control:M.control,name:"email",render:({field:s})=>l.jsxs(m,{children:[l.jsx(x,{children:"Email"}),l.jsx(j,{children:l.jsx(p,{type:"email",placeholder:"your.email@example.com",...s})}),l.jsx(h,{})]})}),l.jsx(d,{control:M.control,name:"password",render:({field:s})=>l.jsxs(m,{children:[l.jsx(x,{children:"Password"}),l.jsx(j,{children:l.jsx(p,{type:"password",placeholder:"Create a password",...s})}),l.jsx(h,{})]})}),l.jsx(d,{control:M.control,name:"confirmPassword",render:({field:s})=>l.jsxs(m,{children:[l.jsx(x,{children:"Confirm Password"}),l.jsx(j,{children:l.jsx(p,{type:"password",placeholder:"Confirm your password",...s})}),l.jsx(h,{})]})}),l.jsxs(u,{type:"submit",className:"w-full bg-accent hover:bg-accent/90",disabled:s,children:[l.jsx(E,{className:"w-4 h-4 mr-2"}),s?"Creating account...":"Create Account"]})]})})})]})})]})})}),l.jsx(I,{})]})};export{D as default};
